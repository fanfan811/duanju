<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>工具集</title>
    <style>
        /* 居中布局样式 */
        .center {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 5vh;
            text-align: center;
        }

        /* 顶部区域样式 */
        .top-area {
            position: relative;
            width: 100%;
            height: 600px;
            overflow: hidden;
            margin: 0;
            padding: 0;
        }

        /* 顶部视频样式优化 */
        .top-area video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center top;
            display: block;
            margin: 0;
            padding: 0;
        }

        /* 黑色遮罩层样式 */
        .overlay-mask {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5); /* 半透明黑色 */
            z-index: 5; /* 确保遮罩在视频上方，在搜索框下方 */
        }

        /* 顶部搜索区域样式 */
        .search-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
            text-align: center;
            width: 100%;
        }

        .search-title {
            color: #fff;
            font-size: 24px;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        /* 搜索区域样式 */
        .search-area {
            max-width: 1100px;
            margin: 20px auto;
            padding: 20px;
        }

        /* 搜索容器样式调整 */
        .search-container {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
            padding: 0 20px;
        }

        /* 搜索输入框样式调整 */
        #searchInput {
            width: 500px;
            padding: 12px 20px;
            border: 2px solid #7F7FD5;
            border-radius: 25px;
            font-size: 16px;
            outline: none;
            transition: all 0.3s;
            background: rgba(255, 255, 255, 0.9);
        }

        #searchInput:focus {
            box-shadow: 0 0 5px rgba(127, 127, 213, 0.5);
        }

        /* 搜索按钮样式调整 */
        #searchButton {
            background: linear-gradient(45deg, #7F7FD5, #86A8E7, #91EAE4);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(127, 127, 213, 0.2);
        }

        #searchButton:hover {
            background: linear-gradient(45deg, #86A8E7, #91EAE4, #7F7FD5);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(127, 127, 213, 0.3);
        }

        /* 搜索结果区域 */
        #searchResults {
            margin-top: 20px;
            padding: 20px;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: none;
        }

        /* 搜索结果内容 */
        .result-content {
            font-family: monospace;
            white-space: pre-wrap;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            border: 1px solid #e9ecef;
            overflow-x: auto;
        }

        /* 加载动画优化 */
        .loading-animation {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2000;
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            border-radius: 10px;
            display: none;
        }

        .loading::after {
            content: "搜索中...";
            color: #ff6b81;
            animation: dots 1.5s infinite;
        }

        @keyframes dots {
            0%, 20% { content: "搜索中."; }
            40% { content: "搜索中.."; }
            60%, 100% { content: "搜索中..."; }
        }

        /* 错误提示 */
        #searchError {
            color: #ff4757;
            text-align: center;
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            display: none;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* 图片容器网格布局优化 */
        .image-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 30px;
            padding: 50px;
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
        }

        /* 单个图片项目样式优化 */
        .image-item {
            position: relative;
            background: #fff;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            transform-style: preserve-3d;
            perspective: 1000px;
        }

        /* 角标样式优化 */
        .corner-label {
            position: absolute;
            top: 12px;
            right: 12px;
            background: rgba(0, 0, 0, 0.5);
            color: rgba(255, 255, 255, 0.95);
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 13px;
            font-weight: 400;
            letter-spacing: 0.5px;
            z-index: 2;
            backdrop-filter: blur(8px);
            transition: all 0.2s ease;
        }

        .image-item:hover .corner-label {
            background: rgba(0, 0, 0, 0.7);
        }

        /* 播放按钮容器样式 */
        .play-button-container {
            padding: 15px;
            text-align: center;
            background: #fff;
            border-radius: 0 0 15px 15px;
        }

        /* 播放按钮样式优化 */
        .play-button {
            background: linear-gradient(45deg, #7F7FD5, #86A8E7, #91EAE4);
            color: white;
            padding: 8px 25px;
            border-radius: 20px;
            border: none;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            box-shadow: 0 2px 8px rgba(127, 127, 213, 0.2);
        }

        .play-button:hover {
            transform: translateY(-2px);
            background: linear-gradient(45deg, #86A8E7, #91EAE4, #7F7FD5);
            box-shadow: 0 4px 12px rgba(127, 127, 213, 0.3);
        }

        /* 图片样式优化 */
        .image-item img {
            width: 100%;
            height: 300px;
            object-fit: cover;
            border-radius: 15px 15px 0 0;
            transition: all 0.3s ease;
        }

        /* 链接样式优化 */
        .image-item a {
            text-decoration: none;
            color: #fff;
            background: linear-gradient(45deg, #7F7FD5, #86A8E7, #91EAE4);
            padding: 8px 20px;
            border-radius: 25px;
            display: inline-block;
            margin: 10px 0;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(127, 127, 213, 0.3);
        }

        .image-item a:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(127, 127, 213, 0.4);
            background: linear-gradient(45deg, #86A8E7, #91EAE4, #7F7FD5);
        }

        /* 列表项样式优化 */
        .image-item li {
            list-style: none;
            padding: 15px;
            background: #fff;
            border-radius: 0 0 15px 15px;
            text-align: center;
        }

        .result-item {
            background: #fff;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s;
        }

        .result-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .result-title {
            font-size: 18px;
            color: #333;
            margin-bottom: 10px;
        }

        .result-info {
            color: #666;
            font-size: 14px;
            margin: 5px 0;
        }

        /* 修改弹窗样式 */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            display: none;
            justify-content: center;
            align-items: center;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background-color: #fff;
            max-width: 90vw;
            max-height: 90vh;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow-y: auto;
            overflow-x: hidden;
        }

        /* 图片展示区域 */
        .image-display {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            overflow: hidden;
        }

        .image-display img {
            max-width: 100%; /* 图片最大宽度为容器宽度 */
            max-height: 70vh; /* 图片最大高度为视口的70% */
            border-radius: 10px;
            object-fit: contain; /* 等比例缩放，完整显示 */
            display: block;
            margin: 0 auto;
        }

        /* 控制按钮区域 */
        .image-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            width: 100%; /* 确保按钮区域占满宽度 */
        }

        .image-controls button {
            background: linear-gradient(45deg, #7F7FD5, #86A8E7, #91EAE4);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
            white-space: nowrap; /* 按钮文本不换行 */
        }

        .image-controls button:hover {
            background: linear-gradient(45deg, #86A8E7, #91EAE4, #7F7FD5);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(127, 127, 213, 0.3);
        }

        .image-controls i {
            font-style: normal;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 500;
            color: #333;
            margin-bottom: 20px;
            padding-right: 30px;
        }

        .close-button {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 30px;
            height: 30px;
            line-height: 30px;
            text-align: center;
            font-size: 24px;
            color: #7F7FD5;
            cursor: pointer;
            border-radius: 50%;
            transition: all 0.3s;
        }

        .close-button:hover {
            background-color: #f0f0f0;
            color: #7F7FD5;
            transform: rotate(90deg);
        }

        .modal-body {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
            border-radius: 5px;
            border: 1px solid #e9ecef;
            background: #f8f9fa;
            margin-top: 20px;
        }

        /* 搜索区域整体样式优化 */
        .search-section {
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-width: 800px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* 历史搜索样式优化 */
        .history-search {
            margin-top: 5px;
            color: rgba(255, 255, 255, 0.9);
            font-size: 14px;
        }

        .history-search-title {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 10px;
            margin-bottom: 12px;
            color: rgba(255, 255, 255, 0.7);
        }

        .history-search-items {
            display: flex;
            flex-wrap: nowrap;
            gap: 10px;
            overflow-x: auto;
            padding: 5px 10px;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .history-search-items::-webkit-scrollbar {
            display: none;
        }

        .history-search-item {
            padding: 6px 16px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            white-space: nowrap;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .history-search-item:hover {
            background-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        /* 热门搜索样式优化 */
        .hot-search {
            margin-top: 5px;
        }

        .hot-search-title {
            padding: 0 10px;
            margin-bottom: 12px;
            color: rgba(255, 255, 255, 0.7);
        }

        .hot-search-items {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            padding: 5px 10px;
        }

        .hot-search-item {
            padding: 5px 15px;
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s;
        }

        .hot-search-item:hover {
            background: rgba(127, 127, 213, 0.2);
            transform: translateY(-2px);
        }

        /* 分隔线 */
        .search-divider {
            height: 1px;
            background: linear-gradient(to right, transparent, rgba(127, 127, 213, 0.5), transparent);
            margin: 5px 0;
        }

        /* 中间文案区域样式优化 */
        .slogan-section {
            background: linear-gradient(135deg, rgba(255,107,129,0.05), rgba(255,255,255,0.1));
            padding: 50px 0;
            text-align: center;
            position: relative;
            margin: 30px 0;
        }

        .slogan-content {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.05);
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255,107,129,0.1);
        }

        .slogan-text {
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            font-size: 18px;
            line-height: 2;
            color: #333;
            margin: 0;
            position: relative;
            z-index: 1;
            letter-spacing: 1px;
        }

        .slogan-text span {
            display: block;
            margin: 12px 0;
            position: relative;
            padding-left: 25px;
            transition: all 0.3s ease;
        }

        .slogan-text span:hover {
            transform: translateX(5px);
            color: #ff6b81;
        }

        .slogan-text span::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            width: 8px;
            height: 8px;
            background: linear-gradient(45deg, #ff6b81, #ff4757);
            border-radius: 50%;
            transform: translateY(-50%);
            transition: all 0.3s ease;
        }

        .slogan-text span:hover::before {
            transform: translateY(-50%) scale(1.2);
            box-shadow: 0 0 10px rgba(255,107,129,0.5);
        }

        .slogan-content::before,
        .slogan-content::after {
            font-family: 'Georgia', serif;
            position: absolute;
            font-size: 120px;
            opacity: 0.08;
            color: #ff6b81;
            line-height: 1;
            pointer-events: none;
        }

        .slogan-content::before {
            content: '"';
            top: 20px;
            left: 20px;
            transform: rotate(-10deg);
        }

        .slogan-content::after {
            content: '"';
            bottom: -30px;
            right: 20px;
            transform: rotate(10deg);
        }

        /* 装饰元素 */
        .slogan-content .decoration {
            position: absolute;
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: linear-gradient(45deg, rgba(255,107,129,0.05), rgba(255,107,129,0.02));
            z-index: 0;
        }

        .slogan-content .decoration:nth-child(1) {
            top: -75px;
            left: -75px;
        }

        .slogan-content .decoration:nth-child(2) {
            bottom: -75px;
            right: -75px;
        }

        /* 添加动画效果 */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .slogan-text span {
            animation: float 6s ease-in-out infinite;
            animation-delay: calc(var(--i) * 0.2s);
        }

        /* 视频弹窗样式优化 */
        .video-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            backdrop-filter: blur(5px);
        }

        /* 视频容器样式优化 */
        .video-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 1000px;
            background: #000;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.3);
        }

        .video-wrapper {
            position: relative;
            padding-top: 56.25%; /* 16:9 比例 */
            height: 0;
        }

        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        /* 关闭按钮样式 */
        .close-video {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 35px;
            height: 35px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            z-index: 2001;
        }

        .close-video:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(90deg);
        }

        /* 视频弹窗底部样式 */
        .video-footer {
            padding: 20px 0;
            text-align: center;
            background: rgba(0, 0, 0, 0.5);
        }

        /* 换一换按钮样式 */
        .refresh-btn,
        .copy-btn {
            background: linear-gradient(45deg, #7F7FD5, #86A8E7, #91EAE4);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .refresh-btn:hover,
        .copy-btn:hover {
            background: linear-gradient(45deg, #86A8E7, #91EAE4, #7F7FD5);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(127, 127, 213, 0.3);
        }

        .refresh-btn i,
        .copy-btn i {
            display: inline-block;
            transition: transform 0.5s ease;
            color: rgba(255, 255, 255, 0.9);
        }

        .refresh-btn:hover i,
        .copy-btn:hover i {
            transform: rotate(360deg);
        }

        /* 调整视频容器样式 */
        .video-container {
            display: flex;
            flex-direction: column;
            margin: 40px auto;
        }

        /* 添加页面过渡效果 */
        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* 移动端适配 */
        @media (max-width: 768px) {
            .search-container {
                flex-direction: column;
                gap: 15px;
            }

            #searchInput {
                width: 100%;
            }

            .image-container {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                padding: 20px;
            }
        }

        .input-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            padding: 0 10px;
        }

        .input-container input {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid #7F7FD5;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s;
        }

        .input-container input:focus {
            outline: none;
            box-shadow: 0 0 5px rgba(127, 127, 213, 0.3);
        }

        .input-container button {
            padding: 12px 25px;
            background: #7F7FD5;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }

        .input-container button:hover {
            background: #86A8E7;
            transform: translateY(-2px);
        }

        .result-info {
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-top: 20px;
        }

        .video-title {
            font-size: 16px;
            color: #333;
            margin: 15px 0;
        }

        .query-button-container {
            margin: 20px 0;
            text-align: center;
        }

        .query-button {
            background: linear-gradient(45deg, #7F7FD5, #86A8E7, #91EAE4);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(127, 127, 213, 0.2);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            position: relative;
            overflow: hidden;
        }

        .query-button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 300%;
            height: 300%;
            background: radial-gradient(circle, rgba(255,255,255,0.3), rgba(255,255,255,0) 70%);
            transform: translate(-50%, -50%) scale(0);
            transition: transform 0.5s ease;
            pointer-events: none;
        }

        .query-button:hover {
            background: linear-gradient(45deg, #86A8E7, #91EAE4, #7F7FD5);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(127, 127, 213, 0.3);
        }

        .query-button:active {
            transform: translateY(0);
            box-shadow: 0 4px 15px rgba(127, 127, 213, 0.2);
        }

        .query-button:hover::before {
            transform: translate(-50%, -50%) scale(1);
        }

        .query-button i {
            font-size: 18px;
            transition: transform 0.3s ease;
        }

        .query-button:hover i {
            transform: rotate(360deg);
        }

        .video-cover {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            margin: 15px 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .download-section {
            margin-top: 20px;
        }

        .download-btn {
            display: inline-block;
            padding: 12px 30px;
            background: #7F7FD5;
            color: white;
            text-decoration: none;
            border-radius: 25px;
            font-weight: 500;
            transition: all 0.3s;
        }

        .download-btn:hover {
            background: #86A8E7;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(127, 127, 213, 0.3);
        }

        /* 添加加载动画 */
        @keyframes loading {
            0% { opacity: 0.3; }
            50% { opacity: 1; }
            100% { opacity: 0.3; }
        }

        .loading-text {
            animation: loading 1.5s infinite;
        }

        .result-info {
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-top: 20px;
        }

        .video-title {
            font-size: 18px;
            color: #333;
            margin: 15px 0;
            font-weight: bold;
        }

        .video-cover {
            max-width: 200px;
            height: auto;
            border-radius: 10px;
            margin: 15px auto;
            display: block;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .download-section {
            margin-top: 20px;
            text-align: left;
        }

        .singer-profile {
            background: #fff;
            padding: 15px;
            border-radius: 8px;
            line-height: 1.6;
            color: #666;
            font-size: 14px;
            white-space: pre-line;
        }

        .singer-info {
            text-align: left;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-top: 20px;
        }

        .singer-info h4 {
            color: #333;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .singer-info p {
            color: #666;
            line-height: 1.6;
            white-space: pre-line;
            margin: 0;
            font-size: 14px;
        }

        .video-title {
            color: #333;
            font-size: 20px;
            margin: 15px 0;
            font-weight: bold;
        }

        .video-cover {
            max-width: 200px;
            border-radius: 10px;
            margin: 15px auto;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .singer-info-container {
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-top: 20px;
        }

        .singer-name {
            font-size: 24px;
            color: #333;
            margin-bottom: 20px;
        }

        .singer-avatar {
            max-width: 200px;
            border-radius: 10px;
            margin: 20px auto;
            display: block;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .singer-profile {
            text-align: left;
            color: #666;
            line-height: 1.8;
            font-size: 14px;
            white-space: pre-line;
            padding: 20px;
            background: #fff;
            border-radius: 8px;
            margin-top: 20px;
        }

        .input-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .input-container input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }

        .input-container button {
            padding: 10px 20px;
            background: #7F7FD5;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .input-container button:hover {
            background: #86A8E7;
        }

        @keyframes highlight {
            0% { box-shadow: 0 0 5px rgba(127, 127, 213, 0.3); }
            50% { box-shadow: 0 0 15px rgba(127, 127, 213, 0.5); }
            100% { box-shadow: 0 0 5px rgba(127, 127, 213, 0.3); }
        }

        .highlight {
            animation: highlight 1s ease-in-out;
        }

        .quick-search-content {
            padding: 20px;
        }

        .quick-search-content .search-container {
            margin-bottom: 20px;
        }

        .quick-search-content .hot-search {
            margin-top: 20px;
        }

        .quick-search-content .hot-search-title {
            color: #666;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .quick-search-content .hot-search-items {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .quick-search-content .hot-search-item {
            background: #f5f5f5;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 13px;
            color: #666;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quick-search-content .hot-search-item:hover {
            background: #ff6b81;
            color: white;
        }

        .subway-modal {
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .subway-search-content {
            display: flex;
            flex-direction: column;
            height: auto; /* 改为自动高度 */
            max-height: 90vh; /* 最大高度限制 */
            overflow-y: auto;
            padding: 20px;
        }

        .selection-area {
            flex-shrink: 0;
            padding-bottom: 20px;
            background: white;
            z-index: 1;
        }

        #horoscopeResult {
            flex-grow: 1;
            overflow-y: auto;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            max-height: 0;
            transition: max-height 0.3s ease;
        }

        #horoscopeResult.has-content {
            max-height: 1000px; /* 根据实际内容调整 */
        }

        .subway-search-box {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
        }

        .subway-search-box input {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid #7F7FD5;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s;
        }

        .subway-search-box input:focus {
            outline: none;
            box-shadow: 0 0 10px rgba(127, 127, 213, 0.3);
        }

        .subway-search-box button {
            padding: 12px 30px;
            background: linear-gradient(45deg, #7F7FD5, #86A8E7, #91EAE4);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .subway-search-box button:hover {
            background: linear-gradient(45deg, #86A8E7, #91EAE4, #7F7FD5);
            transform: translateY(-2px);
        }

        .subway-hot-cities {
            margin-bottom: 30px;
        }

        .subway-hot-cities h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 18px;
        }

        .city-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 15px;
        }

        .city-item {
            background: #f8f9fa;
            padding: 10px;
            text-align: center;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .city-item:hover {
            background: #ff6b81;
            color: white;
            transform: translateY(-2px);
        }

        .subway-result {
            margin-top: 20px;
        }

        .result-loading {
            display: none;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }

        .loading-spinner {
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #ff6b81;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .subway-map {
            margin-bottom: 20px;
        }

        .subway-map img {
            max-width: 100%;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .subway-info {
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .line-item {
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }

        .line-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .line-name {
            font-weight: bold;
            color: #333;
            margin-bottom: 8px;
        }

        .line-stations {
            color: #666;
            line-height: 1.6;
        }

        .emoji-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            padding: 15px;
        }

        .emoji-item {
            background: #fff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s;
            cursor: pointer;
        }

        .emoji-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .emoji-item img {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }

        .download-overlay {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px 20px;
            border-radius: 4px;
            z-index: 2000;
            display: none;
        }

        .tieba-content {
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .tieba-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }

        .tieba-author {
            color: #666;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .tieba-text {
            color: #333;
            line-height: 1.6;
            font-size: 16px;
            white-space: pre-wrap;
            word-break: break-word;
        }

        .refresh-button-container {
            text-align: center;
            margin-top: 20px;
        }

        .arrow {
            color: #666;
            font-size: 20px;
            margin: 0 10px;
        }

        .train-info {
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .train-route {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }

        .train-item {
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .train-number {
            font-weight: bold;
            color: #ff6b81;
            margin-bottom: 10px;
        }

        .train-time {
            color: #666;
            margin-bottom: 8px;
        }

        .train-seats {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .seat-info {
            background: #fff;
            padding: 8px;
            border-radius: 4px;
            font-size: 14px;
            color: #666;
        }

        .seat-price {
            color: #ff6b81;
            font-weight: bold;
        }

        .update-time {
            color: #999;
            font-size: 12px;
            text-align: right;
            margin-top: 20px;
        }

        .moyu-content {
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .moyu-date {
            font-size: 14px;
            color: #666;
            margin-bottom: 15px;
        }

        .moyu-text {
            color: #333;
            font-size: 16px;
        }

        .box-office-content {
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .box-office-date {
            color: #666;
            font-size: 14px;
            margin-bottom: 20px;
            text-align: right;
        }

        .movie-item {
            display: flex;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #eee;
            transition: all 0.3s;
        }

        .movie-item:hover {
            background: #f8f9fa;
        }

        .movie-rank {
            font-size: 24px;
            font-weight: bold;
            width: 40px;
            color: #ff6b81;
        }

        .movie-rank.top-3 {
            color: #ff4757;
        }

        .movie-info {
            flex: 1;
            margin-left: 15px;
        }

        .movie-title {
            font-size: 16px;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .movie-detail {
            font-size: 14px;
            color: #666;
        }

        .movie-box {
            font-size: 16px;
            color: #ff6b81;
            font-weight: bold;
            text-align: right;
            min-width: 120px;
        }

        /* 在 .image-container 之前添加区域标题样式 */
        .section-title {
            text-align: center;
            margin: 40px 0 20px;
            position: relative;
        }

        .section-title h2 {
            display: inline-block;
            background: linear-gradient(45deg, #7F7FD5, #86A8E7, #91EAE4);
            color: white;
            padding: 10px 30px;
            border-radius: 25px;
            font-size: 20px;
            box-shadow: 0 4px 15px rgba(127, 127, 213, 0.3);
        }

        .section-divider {
            margin: 0 auto;
            width: 90%;
            max-width: 1400px;
            height: 1px;
            background: linear-gradient(to right, transparent, rgba(127, 127, 213, 0.5), transparent);
            margin-bottom: 40px;
        }

        .avatar-display {
            text-align: center;
            padding: 20px;
            max-width: 90vw; /* 最大宽度限制 */
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center; /* 添加此行使内容居中 */
        }
        
        .avatar-display img {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            object-fit: cover; /* 保持图片比例 */
            display: block; /* 添加此行确保图片作为块级元素居中 */
            margin-left: auto; /* 添加此行 */
            margin-right: auto; /* 添加此行 */
        }
        
        .avatar-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .avatar-controls button {
            background: linear-gradient(45deg, #7F7FD5, #86A8E7, #91EAE4);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .avatar-controls button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(127, 127, 213, 0.3);
        }
        
        .avatar-controls i {
            font-style: normal;
        }

        .sexy-content {
            padding: 20px;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            font-size: 18px;
            color: #333;
            line-height: 1.6;
            text-align: center;
        }

        .sexy-display {
            text-align: center;
            padding: 20px;
        }
        
        .sexy-content {
            background: #fff;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            font-size: 18px;
            color: #333;
            line-height: 1.6;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .sexy-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }
        
        .sexy-controls button {
            background: linear-gradient(45deg, #7F7FD5, #86A8E7, #91EAE4);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .sexy-controls button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(127, 127, 213, 0.3);
        }
        
        .sexy-controls i {
            font-style: normal;
        }

        .dog-display {
            text-align: center;
            padding: 20px;
            max-width: 90vw; /* 最大宽度限制 */
            margin: 0 auto;
        }
        
        .dog-content {
            background: #fff;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            font-size: 18px;
            color: #333;
            line-height: 1.6;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .dog-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .dog-controls button {
            background: linear-gradient(45deg, #7F7FD5, #86A8E7, #91EAE4);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .dog-controls button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(127, 127, 213, 0.3);
        }
        
        .dog-controls i {
            font-style: normal;
        }

        .joke-display {
            text-align: center;
            padding: 20px;
        }
        
        .joke-content {
            background: #fff;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            font-size: 18px;
            color: #333;
            line-height: 1.6;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .joke-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
        }
        
        .joke-controls button {
            background: linear-gradient(45deg, #7F7FD5, #86A8E7, #91EAE4);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .joke-controls button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(127, 127, 213, 0.3);
        }
        
        .joke-controls i {
            font-style: normal;
        }

        .moyu-display {
            text-align: center;
            padding: 20px;
        }
        
        .moyu-content {
            background: #fff;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            font-size: 16px;
            color: #333;
            line-height: 1.6;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .moyu-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
        }
        
        .moyu-controls button {
            background: linear-gradient(45deg, #7F7FD5, #86A8E7, #91EAE4);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .moyu-controls button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(127, 127, 213, 0.3);
        }
        
        .moyu-controls i {
            font-style: normal;
        }

        .love-display {
            text-align: center;
            padding: 20px;
        }
        
        .love-content {
            padding: 20px;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .english-text {
            font-size: 20px;
            font-weight: 500;
            color: #333;
            margin-bottom: 15px;
            line-height: 1.6;
            text-align: center;
        }
        
        .chinese-text {
            font-size: 16px;
            color: #666;
            line-height: 1.6;
            text-align: center;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
        }
        
        .refresh-btn, .copy-btn {
            background: linear-gradient(45deg, #7F7FD5, #86A8E7, #91EAE4);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .refresh-btn:hover, .copy-btn:hover {
            background: linear-gradient(45deg, #86A8E7, #91EAE4, #7F7FD5);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(127, 127, 213, 0.3);
        }

        /* 休闲娱乐区按钮样式 */
        .fun-button-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            padding: 20px;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .fun-button {
            background: linear-gradient(45deg, #7F7FD5, #86A8E7, #91EAE4);
            color: white;
            border: none;
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 18px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 4px 15px rgba(127, 127, 213, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .fun-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(127, 127, 213, 0.3);
        }
        
        .fun-button i {
            font-size: 24px;
            margin-right: 10px;
            color: rgba(255, 255, 255, 0.9);
        }
        
        .fun-button::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, rgba(255,255,255,0.1), rgba(255,255,255,0));
            transition: all 0.3s;
        }
        
        .fun-button:hover::after {
            transform: translateX(100%);
        }

        .ian-display {
            text-align: center;
            padding: 20px;
        }
        
        .ian-content {
            background: #fff;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            font-size: 18px;
            color: #333;
            line-height: 1.6;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .ian-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
        }
        
        .ian-controls button {
            background: linear-gradient(45deg, #7F7FD5, #86A8E7, #91EAE4);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .ian-controls button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(127, 127, 213, 0.3);
        }
        
        .ian-controls i {
            font-style: normal;
        }

        .card {
            background: #fff;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }

        .card-header span {
            font-size: 18px;
            font-weight: 500;
            color: #333;
        }

        .basic-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .info-item {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 8px;
            text-align: center;
        }

        .info-label {
            color: #666;
            font-size: 14px;
        }

        .info-value {
            color: #333;
            font-weight: 500;
            margin-top: 5px;
            display: block;
        }

        .index-info {
            margin-bottom: 20px;
        }

        .index-info h4,
        .todo-info h4,
        .fortune-info h4,
        .short-comment h4 {
            color: #333;
            font-size: 16px;
            margin-bottom: 15px;
        }

        .index-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
        }

        .index-item {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 8px;
            text-align: center;
        }

        .index-label {
            color: #666;
            font-size: 14px;
        }

        .index-value {
            color: #333;
            font-weight: 500;
            margin-top: 5px;
            display: block;
        }

        .todo-info {
            margin-bottom: 20px;
        }

        .todo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .todo-item {
            padding: 12px;
            border-radius: 8px;
            background: #f8f9fa;
        }

        .todo-item.yi {
            border-left: 4px solid #91EAE4;
        }

        .todo-item.ji {
            border-left: 4px solid #ff6b81;
        }

        .fortune-info {
            margin-bottom: 20px;
        }

        .fortune-item {
            margin-bottom: 10px;
        }

        .fortune-label {
            color: #666;
            font-size: 14px;
        }

        .fortune-value {
            color: #333;
            margin-top: 5px;
            display: block;
        }

        .short-comment {
            margin-top: 20px;
        }

        .short-comment p {
            color: #333;
            line-height: 1.6;
            margin: 0;
        }

        .landscape-display {
            text-align: center;
            padding: 20px;
            max-width: 90vw; /* 最大宽度限制 */
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center; /* 添加此行使内容居中 */
        }
        
        .landscape-display img {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            object-fit: cover; /* 保持图片比例 */
            display: block; /* 添加此行确保图片作为块级元素居中 */
            margin-left: auto; /* 添加此行 */
            margin-right: auto; /* 添加此行 */
        }
        
        .landscape-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .landscape-controls button {
            background: linear-gradient(45deg, #7F7FD5, #86A8E7, #91EAE4);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .landscape-controls button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(127, 127, 213, 0.3);
        }
        
        .landscape-controls i {
            font-style: normal;
        }

        .anime-display {
            text-align: center;
            padding: 20px;
            max-width: 90vw; /* 最大宽度限制 */
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center; /* 添加此行使内容居中 */
        }
        
        .anime-display img {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            object-fit: cover; /* 保持图片比例 */
            display: block; /* 添加此行确保图片作为块级元素居中 */
            margin-left: auto; /* 添加此行 */
            margin-right: auto; /* 添加此行 */
        }
        
        .anime-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .anime-controls button {
            background: linear-gradient(45deg, #7F7FD5, #86A8E7, #91EAE4);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .anime-controls button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(127, 127, 213, 0.3);
        }
        
        .anime-controls i {
            font-style: normal;
        }

        .english-display {
            text-align: center;
            padding: 20px;
        }
        
        .english-content {
            background: #fff;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 8px 30px rgba(127, 127, 213, 0.15);
            margin-bottom: 20px;
            color: #333;
            line-height: 1.6;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 25px;
            position: relative;
            overflow: hidden;
            border: 2px solid #f0f0f0;
        }
        
        .english-content::before {
            content: '"';
            position: absolute;
            top: 20px;
            left: 30px;
            font-size: 60px;
            color: rgba(127, 127, 213, 0.1);
            font-family: serif;
        }
        
        .english-content::after {
            content: '"';
            position: absolute;
            bottom: 20px;
            right: 30px;
            font-size: 60px;
            color: rgba(127, 127, 213, 0.1);
            font-family: serif;
        }
        
        .english-text {
            font-size: 24px;
            font-weight: 500;
            color: #333;
            margin: 0;
            line-height: 1.8;
            max-width: 800px;
            position: relative;
            z-index: 1;
        }
        
        .chinese-text {
            font-size: 18px;
            color: #666;
            margin: 0;
            max-width: 800px;
            line-height: 1.6;
            position: relative;
            z-index: 1;
        }
        
        .english-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        
        .english-controls button {
            background: linear-gradient(45deg, #7F7FD5, #86A8E7, #91EAE4);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .english-controls button:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(127, 127, 213, 0.3);
        }
        
        .english-controls i {
            font-style: normal;
            font-size: 20px;
        }

        .girl-display {
            text-align: center;
            padding: 20px;
            max-width: 90vw; /* 最大宽度限制 */
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center; /* 添加此行使内容居中 */
        }
        
        .girl-display img {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            object-fit: cover; /* 保持图片比例 */
            display: block; /* 添加此行确保图片作为块级元素居中 */
            margin-left: auto; /* 添加此行 */
            margin-right: auto; /* 添加此行 */
        }
        
        .girl-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .girl-controls button {
            background: linear-gradient(45deg, #7F7FD5, #86A8E7, #91EAE4);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .girl-controls button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(127, 127, 213, 0.3);
        }
        
        .girl-controls i {
            font-style: normal;
        }

        /* 修改换一换和保存按钮的样式 */
        .avatar-controls button,
        .landscape-controls button,
        .anime-controls button,
        .girl-controls button {
            background: linear-gradient(45deg, #7F7FD5, #86A8E7, #91EAE4);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .avatar-controls button:hover,
        .landscape-controls button:hover,
        .anime-controls button:hover,
        .girl-controls button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(127, 127, 213, 0.3);
            background: linear-gradient(45deg, #86A8E7, #91EAE4, #7F7FD5);
        }
        .avatar-controls i,
        .landscape-controls i,
        .anime-controls i,
        .girl-controls i {
            font-style: normal;
            color: rgba(255, 255, 255, 0.9);
        }

        .time-selector {
            margin: 20px 0;
        }

        .time-selector h3 {
            color: #666;
            margin-bottom: 10px;
        }

        .time-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .time-button {
            padding: 8px 16px;
            border: 1px solid #7F7FD5;
            border-radius: 20px;
            background: #fff;
            color: #7F7FD5;
            cursor: pointer;
            transition: all 0.3s;
        }

        .time-button.active {
            background: #7F7FD5;
            color: white;
        }

        .time-button:hover {
            background: #7F7FD5;
            color: white;
        }

        .city-item.selected {
            background: #7F7FD5;
            color: white;
        }

        .time-button.active {
            background: #7F7FD5;
            color: white;
        }

        .query-button-container {
            margin: 20px 0;
            text-align: center;
        }

        .query-button {
            background: linear-gradient(45deg, #7F7FD5, #86A8E7, #91EAE4);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(127, 127, 213, 0.2);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            position: relative;
            overflow: hidden;
        }

        .query-button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 300%;
            height: 300%;
            background: radial-gradient(circle, rgba(255,255,255,0.3), rgba(255,255,255,0) 70%);
            transform: translate(-50%, -50%) scale(0);
            transition: transform 0.5s ease;
            pointer-events: none;
        }

        .query-button:hover {
            background: linear-gradient(45deg, #86A8E7, #91EAE4, #7F7FD5);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(127, 127, 213, 0.3);
        }

        .query-button:active {
            transform: translateY(0);
            box-shadow: 0 4px 15px rgba(127, 127, 213, 0.2);
        }

        .query-button:hover::before {
            transform: translate(-50%, -50%) scale(1);
        }

        .query-button i {
            font-size: 18px;
            transition: transform 0.3s ease;
        }

        .query-button:hover i {
            transform: rotate(360deg);
        }

        .hotlist {
            max-width: 600px;
            margin: 0 auto;
        }

        .hotlist-item {
            display: flex;
            align-items: center;
            padding: 12px;
            margin-bottom: 10px;
            background: #f8f9fa;
            border-radius: 8px;
            transition: all 0.3s;
        }

        .hotlist-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .hotlist-rank {
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #7F7FD5;
            color: white;
            border-radius: 50%;
            font-weight: 500;
            margin-right: 15px;
        }

        .hotlist-content {
            flex: 1;
        }

        .hotlist-title {
            color: #333;
            font-size: 16px;
            text-decoration: none;
            display: block;
            margin-bottom: 5px;
        }

        .hotlist-title:hover {
            color: #7F7FD5;
        }

        .hotlist-hot {
            color: #666;
            font-size: 14px;
        }

        #productModal .modal-content {
            max-height: 70vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        #productResult {
            flex: 1;
            overflow-y: auto;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid #eee;
        }

        .hotlist {
            max-height: 50vh;
            overflow-y: auto;
            padding: 10px;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }

        .controls button {
            background: linear-gradient(45deg, #7F7FD5, #86A8E7, #91EAE4);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .controls button:hover {
            background: linear-gradient(45deg, #86A8E7, #91EAE4, #7F7FD5);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(127, 127, 213, 0.3);
        }

        .loading-spinner {
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #ff6b81;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-text {
            animation: loading 1.5s infinite;
        }

        @keyframes loading {
            0% { opacity: 0.3; }
            50% { opacity: 1; }
            100% { opacity: 0.3; }
        }

        /* 修改图片展示区域样式 */
        .avatar-display,
        .landscape-display,
        .anime-display,
        .girl-display {
            text-align: center;
            padding: 20px;
            max-width: 90vw; /* 最大宽度限制 */
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center; /* 添加此行使内容居中 */
        }

        /* 修改图片样式 */
        .avatar-display img,
        .landscape-display img,
        .anime-display img,
        .girl-display img {
            max-width: 100%; /* 最大宽度为容器宽度 */
            max-height: 80vh; /* 最大高度为视口高度的80% */
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            object-fit: contain; /* 保持图片比例，完整显示 */
            display: block; /* 确保图片作为块级元素居中 */
            margin-left: auto; /* 添加此行 */
            margin-right: auto; /* 添加此行 */
        }

        /* 励志英语弹窗样式 */
        #englishModal .modal-content {
            background-color: #fff;
            width: 800px; /* 固定宽度 */
            max-height: 90vh; /* 最大高度为视口的90% */
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow-y: auto; /* 内容过多时显示滚动条 */
        }

        /* 励志英语内容区域 */
        .english-content {
            width: 100%; /* 宽度占满弹窗 */
            padding: 20px;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        /* 英语文本样式 */
        .english-text {
            font-size: 24px;
            font-weight: 500;
            color: #333;
            line-height: 1.6;
            word-wrap: break-word; /* 宽度不够时自动换行 */
            white-space: pre-wrap; /* 保留换行符和空格 */
            margin: 0;
        }

        /* 中文文本样式 */
        .chinese-text {
            font-size: 18px;
            color: #666;
            line-height: 1.6;
            word-wrap: break-word; /* 宽度不够时自动换行 */
            white-space: pre-wrap; /* 保留换行符和空格 */
            margin: 20px 0 0;
        }

        /* 控制按钮区域 */
        .english-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .english-controls button {
            background: linear-gradient(45deg, #7F7FD5, #86A8E7, #91EAE4);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .english-controls button:hover {
            background: linear-gradient(45deg, #86A8E7, #91EAE4, #7F7FD5);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(127, 127, 213, 0.3);
        }

        /* 在弹窗区域添加疯狂星期四弹窗 */
        .kfc-content {
            padding: 20px;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            font-size: 18px;
            color: #333;
            line-height: 1.6;
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100px; /* 确保有足够的高度显示加载动画 */
        }

        .kfc-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }

        .kfc-controls button {
            background: linear-gradient(45deg, #7F7FD5, #86A8E7, #91EAE4);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .kfc-controls button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(127, 127, 213, 0.3);
        }

        /* 在样式部分添加以下内容 */
        .name-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 15px;
            padding: 15px;
        }

        .name-item {
            background: #f8f9fa;
            padding: 12px;
            text-align: center;
            border-radius: 8px;
            font-size: 16px;
            color: #333;
            transition: all 0.3s;
        }

        .name-item:hover {
            background: #7F7FD5;
            color: white;
            transform: translateY(-2px);
        }

        /* 搜索结果弹窗样式优化 */
        #searchModal .modal-content {
            position: relative;
            max-width: 1000px; /* 从800px增加到1000px */
            width: 95%; /* 从90%增加到95% */
            max-height: 80vh;
            overflow-y: auto;
            padding: 30px;
            background: #fff;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .search-result-item {
            margin-bottom: 20px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s;
            min-width: 280px; /* 设置最小宽度 */
        }

        .search-result-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .result-title {
            font-size: 16px; /* 从14px增加到16px */
            font-weight: 500;
            color: #333;
            margin-bottom: 10px;
        }

        .result-info {
            color: #666;
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .result-link {
            display: inline-block;
            margin-top: 10px;
            padding: 8px 20px;
            background: linear-gradient(45deg, #7F7FD5, #86A8E7, #91EAE4);
            color: white;
            border-radius: 20px;
            text-decoration: none;
            transition: all 0.3s;
        }

        .result-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(127,127,213,0.3);
        }

        .no-results {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #7F7FD5;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* 新增短剧信息样式 */
        .drama-info {
            margin-top: 10px;
            color: #666;
            font-size: 14px;
        }

        .drama-time {
            color: #999;
            font-size: 12px;
            margin-top: 5px;
        }

        /* 修改搜索结果样式 */
        .search-results {
            display: grid;
            grid-template-columns: repeat(3, 1fr); /* 从4列改为3列 */
            gap: 25px; /* 增加间距 */
            padding: 20px;
        }

        .search-result-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 15px;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s;
            min-width: 280px; /* 设置最小宽度 */
        }

        .search-result-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .result-thumbnail {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .result-title {
            font-size: 14px;
            font-weight: 500;
            color: #333;
            margin-bottom: 5px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .drama-info {
            font-size: 12px;
            color: #666;
            margin-bottom: 5px;
        }

        .drama-time {
            font-size: 11px;
            color: #999;
        }

        @media (max-width: 1200px) {
            .search-results {
                grid-template-columns: repeat(2, 1fr); /* 从3列改为2列 */
            }
        }

        @media (max-width: 768px) {
            .search-results {
                grid-template-columns: 1fr; /* 从2列改为1列 */
            }

            .search-result-item {
                min-width: auto; /* 移除最小宽度限制 */
            }
        }

        @media (max-width: 480px) {
            .search-results {
                grid-template-columns: 1fr;
            }
        }

        .morning-news-content {
            padding: 20px;
            font-size: 16px;
            color: #333;
            line-height: 1.6;
            text-align: left;
        }

        .morning-news-content img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin: 10px 0;
        }

        /* 添加美女壁纸标题样式 */
        .beauty-wallpaper-title {
            font-size: 18px;
            color: #333;
            text-align: center;
            margin-bottom: 15px;
            font-weight: 500;
        }

        .chat-message {
            margin-bottom: 15px;
            padding: 10px 15px;
            border-radius: 8px;
            max-width: 80%;
        }

        .user-message {
            background: #7F7FD5;
            color: white;
            margin-left: auto;
        }

        .bot-message {
            background: #f0f0f0;
            color: #333;
            margin-right: auto;
        }

        .message-content {
            word-wrap: break-word;
            white-space: pre-wrap;
        }

        .chat-input-container {
            display: flex;
            gap: 10px;
            padding: 10px;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        /* 在弹窗区域添加今日金价弹窗 */
        .gold-price-content {
            padding: 20px;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            font-size: 18px;
            color: #333;
            line-height: 1.6;
            text-align: center;
        }

        .gold-price-item {
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 8px;
            background: #f8f9fa;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            display: inline-block;
            width: 30%;
            margin-right: 2%;
            box-sizing: border-box;
        }

        .gold-price-item:nth-child(3n) {
            margin-right: 0;
        }

        @media (max-width: 768px) {
            .gold-price-item {
                width: 48%;
                margin-right: 2%;
            }
            .gold-price-item:nth-child(3n) {
                margin-right: 2%;
            }
            .gold-price-item:nth-child(2n) {
                margin-right: 0;
            }
        }

        @media (max-width: 480px) {
            .gold-price-item {
                width: 100%;
                margin-right: 0;
            }
        }

        .gold-price-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .gold-price-value {
            font-size: 16px;
            font-weight: 500;
            color: #ff6b81;
        }

        .gold-price-change {
            font-size: 14px;
            color: #666;
        }

        .recent-updates {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .update-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .update-item {
            background: #fff;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }
        
        .update-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .update-title {
            font-size: 16px;
            color: #333;
            margin-bottom: 5px;
        }
        
        .update-time {
            color: #666;
            font-size: 12px;
        }
        
        .update-link {
            display: block;
            margin-top: 10px;
            color: #7F7FD5;
            text-decoration: none;
            font-size: 14px;
        }
        
        .update-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <!-- 顶部区域 -->
    <div class="top-area">
        <video autoplay loop muted playsinline>
            <source src="https://media.cdn.queniuqe.com/steamcommunity/public/images/items/2022180/378ad2ba8b743e3b53ba8a8899a2633bcd8938e6.webm" type="video/webm">
            你的浏览器不支持 video 标签。
        </video>
        <!-- 添加黑色遮罩层 -->
        <div class="overlay-mask"></div>
        <!-- 搜索区域覆盖层 -->
        <div class="search-overlay">
            <h2 class="search-title">请输入您想要查询的短剧</h2>
            <div class="search-container">
                <input type="text" id="searchInput" placeholder="请输入搜索关键词...">
                <button id="searchButton">搜索</button>
            </div>
            <div id="searchError" style="display: none;"></div>
            <div class="loading" style="display: none;"></div>
            <div class="search-section">
                <!-- 热门搜索 -->
                <div class="hot-search">
                    <div class="hot-search-title">热门搜索</div>
                    <div class="hot-search-items">
                        <span class="hot-search-item" onclick="searchHotWord(this)">危险关系</span>
                        <span class="hot-search-item" onclick="searchHotWord(this)">风知我意</span>
                        <span class="hot-search-item" onclick="searchHotWord(this)">重回五年前</span>
                        <span class="hot-search-item" onclick="searchHotWord(this)">拯救萌宝计划</span>
                        <span class="hot-search-item" onclick="searchHotWord(this)">他从星光中走来</span>
                        <span class="hot-search-item" onclick="searchHotWord(this)">余生有你皆欢喜</span>
                        <span class="hot-search-item" onclick="searchHotWord(this)">绝命钢琴师</span>
                        <span class="hot-search-item" onclick="searchHotWord(this)">"骗骗"喜欢你</span>
                        <span class="hot-search-item" onclick="searchHotWord(this)">......</span>
                    </div>
                </div>
                <div class="search-divider"></div>
                <!-- 历史搜索 -->
                <div class="history-search">
                    <div class="history-search-title">
                        <span>搜索历史</span>
                        <span class="clear-history" onclick="clearSearchHistory()">清空历史</span>
                    </div>
                    <div class="history-search-items" id="historyItems">
                        <!-- 历史记录将通过JavaScript动态添加 -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <a href="#" id="searchLink" style="display:none;"></a>

    <!-- 中间文案区域 -->
    <div class="slogan-section">
        <div class="slogan-content">
            <div class="decoration"></div>
            <div class="decoration"></div>
            <p class="slogan-text">
                <span style="--i:1">生活太多平淡，不如来点惊喜</span>
                <span style="--i:2">每一次点击都是一场未知的心动邂逅</span>
                <span style="--i:3">让我们一起感受最美好的瞬间吧</span>
            </p>
        </div>
    </div>

    <!-- 修改休闲娱乐区的HTML结构 -->
    <div class="section-title">
        <h2>娱乐工具</h2>
    </div>
    <div class="section-divider"></div>
    <div class="fun-button-container">
        <button class="fun-button" onclick="showDogModal()">
            <i>🐕</i>舔狗日记
        </button>
        <button class="fun-button" onclick="showKfcModal()">
            <i>🍗</i>疯狂星期四
        </button>
        <button class="fun-button" onclick="showGoldPriceModal()">
            <i>💰</i>今日金价
        </button>
        <button class="fun-button" onclick="showIanModal()">
            <i>📜</i>随机一言
        </button>
        <button class="fun-button" onclick="showEnglishModal()">
            <i>🏠</i>爱情公寓
        </button>
        <button class="fun-button" onclick="showChatBotModal()">
            <i>🤖</i>智能机器人
        </button>
        <!-- <button class="fun-button" onclick="showHoroscopeModal()">
            <i>♈️</i>星座运势
        </button>
        <button class="fun-button" onclick="showProductModal()">
            <i>📱</i>人人皆产品
        </button>
        <button class="fun-button" onclick="showMoyuModal()">
            <i>🐟</i>摸鱼日记
        </button>
        <button class="fun-button" onclick="showNameModal()">
            <i>👶</i>姓氏取名
        </button>
        <button class="fun-button" onclick="showWeiboHotModal()">
            <i>🔥</i>微博热榜
        </button>
        <button class="fun-button" onclick="showMorningNewsModal()">
            <i>🌍</i>60秒读懂世界
        </button> -->
    </div>

    <!-- 在视频图片区上方添加最近更新区域
    <div class="section-title">
        <h2>最近更新</h2>
    </div>
    <div class="section-divider"></div>
    <div class="recent-updates">
        <div class="update-list" id="recentUpdates">
         更新内容将通过JavaScript动态添加 
        </div>
    </div> -->

    <!-- 视频图片区 -->
    <div class="section-title">
        <h2>视频图片</h2>
    </div>
    <div class="section-divider"></div>
    <div class="image-container">
        <div class="image-item" onclick="window.location.href='second.html'">
            <span class="corner-label">进入视频分类</span>
            <img src="hhttps://pic.netbian.com/uploads/allimg/250403/173542-1743672942ff2f.jpg" alt="进入视频分类">
            <div class="play-button-container">
                <button class="play-button">进入视频分类</button>
            </div>
        </div>

        <div class="image-item" onclick="showRandomGirlModal()">
            <span class="corner-label">随机girl</span>
            <img src="https://api.yujn.cn/api/xjjtp.php?" alt="随机girl图片">
            <div class="play-button-container">
                <button class="play-button">随机girl图</button>
            </div>
        </div>

        <div class="image-item" onclick="showGirlModal()">
            <span class="corner-label">随机jk</span>
            <img src=" https://api.yujn.cn/api/jk.php?" alt="随机jk">
            <div class="play-button-container">
                <button class="play-button">随机jk</button>
            </div>
        </div>

        <div class="image-item" onclick="showHeisiModal()">
            <span class="corner-label">随机黑丝</span>
            <img src="http://api.yujn.cn/api/heisi.php?" alt="黑丝图片">
            <div class="play-button-container">
                <button class="play-button">随机黑丝图</button>
            </div>
        </div>

        <div class="image-item" onclick="showLandscapeModal()">
            <span class="corner-label">随机白丝</span>
            <img src="https://api.yujn.cn/api/baisi.php?" alt="随机白丝">
            <div class="play-button-container">
                <button class="play-button">随机白丝</button>
            </div>
        </div>

        <div class="image-item" onclick="showAnimeModal()">
            <span class="corner-label">随机养眼图</span>
            <img src="https://api.yujn.cn/api/yangyan.php" alt="小姐姐">
            <div class="play-button-container">
                <button class="play-button">随机养眼图</button>
            </div>
        </div>

        <div class="image-item" onclick="showAvatarModal()">
            <span class="corner-label">原神cos</span>
            <img src="https://api.yujn.cn/api/yscos.php?" alt="原神cos">
            <div class="play-button-container">
                <button class="play-button">原神cos</button>
            </div>
        </div> 
        
<!--         <div class="image-item" onclick="showPcWallpaperModal()">
            <span class="corner-label">快手美女</span>
            <img src="https://api.yujn.cn/api/ksxjj.php" alt="快手美女">
            <div class="play-button-container">
                <button class="play-button">快手美女</button>
            </div>
        </div> -->

         <div class="image-item" onclick="showPcWallpaperModal()">
            <span class="corner-label">卖家秀</span>
            <img src="https://api.yujn.cn/api/mjx.php" alt="买家秀">
            <div class="play-button-container">
                <button class="play-button">卖家秀</button>
            </div>
        </div> 

        <!-- 在图片容器区域添加腹肌图片卡片 -->
        <div class="image-item">
            <div class="corner-label">腹肌</div>
            <img src="http://api.yujn.cn/api/fujiimg.php?" alt="腹肌图片" onclick="showFujiModal()">
            <div class="play-button-container">
                <button class="play-button" onclick="showFujiModal()">查看腹肌</button>
            </div>
        </div>

        <div class="image-item" onclick="showLegModal()">
            <span class="corner-label">随机腿控</span>
            <img src="https://api.zhcnli.cn/api/sjtp/tupian.php?type=bs" alt="腿控图片">
            <div class="play-button-container">
                <button class="play-button">随机腿控</button>
            </div>
        </div>
    </div>

    <!-- 搜索结果弹窗 -->
    <div id="searchModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal()">&times;</span>
            <div class="modal-title">搜索结果</div>
            <div class="modal-body">
                <div class="search-results"></div>
            </div>
        </div>
    </div>

    <!-- 视频播放弹窗 -->
    <div id="videoModal" class="video-modal">
        <button class="close-video" onclick="closeVideoModal()">&times;</button>
        <div class="video-container">
            <div class="video-wrapper">
                <iframe id="videoFrame" allowfullscreen></iframe>
            </div>
            <div class="video-footer">
                <button class="refresh-btn" onclick="refreshVideo()">
                    <i>↻</i>换个视频
                </button>
            </div>
            </div>
        </div>


    <!-- 修改舔狗日记弹窗的按钮部分 -->
    <div id="dogModal" class="modal">
        <div class="modal-content subway-modal">
            <span class="close-button" onclick="closeDogModal()">&times;</span>
            <div class="modal-title">舔狗日记</div>
            <div class="modal-body">
                <div class="dog-content"></div>
                <div class="controls">
                    <button onclick="refreshDogDiary()" class="refresh-btn">
                        <i>↻</i>换一句
                    </button>
                    <button onclick="copyDogDiary()" class="copy-btn">
                        <i>✎</i>复制
                    </button>
                </div>
            </div>
        </div>
    </div>


    <!-- 添加摸鱼人日记弹窗 -->
    <div id="moyuModal" class="modal">
        <div class="modal-content subway-modal" style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);">
            <span class="close-button" onclick="closeMoyuModal()">&times;</span>
            <div class="modal-title">摸鱼人日记</div>
            <div class="subway-search-content">
                <div id="moyuResult" class="subway-result">
                    <div class="moyu-display">
                        <div class="moyu-content"></div>
                        <div class="moyu-controls">
                            <button onclick="refreshMoyu()" class="refresh-btn">
                                <i>↻</i>换一个
                            </button>
                            <button onclick="copyMoyu()" class="copy-btn">
                                <i>✎</i>复制
                            </button>
            </div>
        </div>
            </div>
        </div>
            </div>
        </div>



    <!-- 添加一言句子弹窗 -->
    <div id="ianModal" class="modal">
        <div class="modal-content subway-modal">
            <span class="close-button" onclick="closeIanModal()">&times;</span>
            <div class="modal-title">随机一言</div>
            <div class="modal-body">
                <div class="sexy-content"></div>
                <div class="sexy-controls">
                    <button onclick="refreshIan()" class="refresh-btn">
                        <i>↻</i>换一句
                    </button>
                    <button onclick="copyIan()" class="copy-btn">
                        <i>✎</i>复制
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- 添加风景图片弹窗 -->
    <div id="landscapeModal" class="modal">
        <div class="modal-content subway-modal">
            <span class="close-button" onclick="closeLandscapeModal()">&times;</span>
            <div class="modal-title">随机白丝</div>
            <div class="subway-search-content">
                <div id="landscapeResult" class="subway-result">
                    <div class="landscape-display">
                        <img id="currentLandscape" src="" alt="随机白丝">
                        <div class="landscape-controls">
                            <button onclick="refreshLandscape()" class="refresh-btn">
                                <i>↻</i>换一个
                            </button>
                            <button onclick="downloadLandscape()" class="download-btn">
                                <i>↓</i>保存
                            </button>
            </div>
        </div>
            </div>
        </div>
        </div>
    </div>

    <!-- 添加二次元弹窗 -->
    <div id="animeModal" class="modal">
        <div class="modal-content subway-modal">
            <span class="close-button" onclick="closeAnimeModal()">&times;</span>
            <div class="modal-title">养眼图</div>
            <div class="subway-search-content">
                <div id="animeResult" class="subway-result">
                    <div class="anime-display">
                        <img id="currentAnime" src="" alt="养眼图">
                        <div class="anime-controls">
                            <button onclick="refreshAnime()" class="refresh-btn">
                                <i>↻</i>换一个
                            </button>
                            <button onclick="downloadAnime()" class="download-btn">
                                <i>↓</i>保存
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 添加励志英语弹窗 -->
    <div id="englishModal" class="modal">
        <div class="modal-content subway-modal">
            <span class="close-button" onclick="closeEnglishModal()">&times;</span>
            <div class="modal-title">爱情公寓</div>
            <div class="modal-body">
                <div class="love-content">
                    <div class="english-text"></div>
                    <div class="chinese-text"></div>
                </div>
                <div class="controls">
                    <button onclick="refreshEnglish()" class="refresh-btn">
                        <i>↻</i>换一句
                    </button>
                    <button onclick="copyEnglish()" class="copy-btn">
                        <i>✎</i>复制
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- 添加随机女头弹窗 -->
    <div id="girlModal" class="modal">
        <div class="modal-content subway-modal">
            <span class="close-button" onclick="closeGirlModal()">&times;</span>
            <div class="modal-title">随机JK</div>
            <div class="subway-search-content">
                <div id="girlResult" class="subway-result">
                    <div class="girl-display">
                        <img id="currentGirl" src="" alt="随机JK">
                        <div class="girl-controls">
                            <button onclick="refreshGirl()" class="refresh-btn">
                                <i>↻</i>换一个
                            </button>
                            <button onclick="downloadGirl()" class="download-btn">
                                <i>↓</i>保存
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 在其他弹窗后面添加随机头像弹窗 -->
    <!-- 添加随机头像弹窗 -->
    <div id="avatarModal" class="modal">
        <div class="modal-content subway-modal">
            <span class="close-button" onclick="closeAvatarModal()">&times;</span>
            <div class="modal-title">原神cos</div>
            <div class="subway-search-content">
                <div id="avatarResult" class="subway-result">
                    <div class="avatar-display">
                        <img id="currentAvatar" src="" alt="原神cos">
                        <div class="avatar-controls">
                            <button onclick="refreshAvatar()" class="refresh-btn">
                                <i>↻</i>换一个
                            </button>
                            <button onclick="downloadAvatar()" class="download-btn">
                                <i>↓</i>保存
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 在文件末尾添加星座运势弹窗 -->
    <div id="horoscopeModal" class="modal">
        <div class="modal-content subway-modal">
            <span class="close-button" onclick="closeHoroscopeModal()">&times;</span>
            <div class="modal-title">星座运势查询</div>
            <div class="subway-search-content">
                <!-- 选择区域 -->
                <div class="selection-area">
                    <!-- 时间选择 -->
                    <div class="time-selector">
                        <h3>选择时间范围</h3>
                        <div class="time-buttons">
                            <button class="time-button" data-time="today" onclick="selectTime(this)">今日</button>
                            <button class="time-button" data-time="nextday" onclick="selectTime(this)">明日</button>
                            <button class="time-button" data-time="week" onclick="selectTime(this)">本周</button>
                            <button class="time-button" data-time="month" onclick="selectTime(this)">本月</button>
                        </div>
                    </div>

                    <!-- 星座选择 -->
                    <div class="subway-hot-cities">
                        <h3>请选择你的星座</h3>
                        <div class="city-grid">
                            <div class="city-item" onclick="selectHoroscope(this)" data-sign="aries">白羊座</div>
                            <div class="city-item" onclick="selectHoroscope(this)" data-sign="taurus">金牛座</div>
                            <div class="city-item" onclick="selectHoroscope(this)" data-sign="gemini">双子座</div>
                            <div class="city-item" onclick="selectHoroscope(this)" data-sign="cancer">巨蟹座</div>
                            <div class="city-item" onclick="selectHoroscope(this)" data-sign="leo">狮子座</div>
                            <div class="city-item" onclick="selectHoroscope(this)" data-sign="virgo">处女座</div>
                            <div class="city-item" onclick="selectHoroscope(this)" data-sign="libra">天秤座</div>
                            <div class="city-item" onclick="selectHoroscope(this)" data-sign="scorpio">天蝎座</div>
                            <div class="city-item" onclick="selectHoroscope(this)" data-sign="sagittarius">射手座</div>
                            <div class="city-item" onclick="selectHoroscope(this)" data-sign="capricorn">摩羯座</div>
                            <div class="city-item" onclick="selectHoroscope(this)" data-sign="aquarius">水瓶座</div>
                            <div class="city-item" onclick="selectHoroscope(this)" data-sign="pisces">双鱼座</div>
                        </div>
                    </div>

                    <!-- 查询按钮 -->
                    <div class="query-button-container">
                        <button class="query-button" onclick="queryHoroscope()">
                            <i>🔮</i>查询运势
                        </button>
                    </div>
                </div>

                <!-- 查询结果 -->
                <div id="horoscopeResult" class="subway-result" style="display: none;">
                    <div class="result-loading">
                        <div class="loading-spinner"></div>
                        <span>正在查询...</span>
                    </div>
                    <div class="result-content">
                        <div class="horoscope-info"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 在文件末尾添加产品热榜弹窗 -->
    <div id="productModal" class="modal">
        <div class="modal-content subway-modal">
            <span class="close-button" onclick="closeProductModal()">&times;</span>
            <div class="modal-title">产品热榜</div>
            <div class="subway-search-content">
                <div id="productResult" class="subway-result" style="display: none;">
                    <div class="result-loading">
                        <div class="loading-spinner"></div>
                        <span>正在加载...</span>
                    </div>
                    <div class="result-content">
                        <div class="hotlist-container"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 在弹窗区域添加疯狂星期四弹窗 -->
    <div id="kfcModal" class="modal">
        <div class="modal-content subway-modal">
            <span class="close-button" onclick="closeKfcModal()">&times;</span>
            <div class="modal-title">疯狂星期四</div>
            <div class="modal-body">
                <div class="kfc-content"></div>
                <div class="kfc-controls">
                    <button onclick="refreshKfc()" class="refresh-btn">
                        <i>↻</i>换一句
                    </button>
                    <button onclick="copyKfc()" class="copy-btn">
                        <i>✎</i>复制
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- 在弹窗区域添加姓氏取名弹窗 -->
    <div id="nameModal" class="modal">
        <div class="modal-content subway-modal">
            <span class="close-button" onclick="closeNameModal()">&times;</span>
            <div class="modal-title">姓氏取名</div>
            <div class="subway-search-content">
                <!-- 输入框 -->
                <div class="subway-search-box">
                    <input type="text" id="surnameInput" placeholder="请输入姓氏，如：张">
                    <button onclick="generateNames()">生成</button>
                </div>
                <!-- 性别选择 -->
                <div class="subway-hot-cities">
                    <h3>选择性别</h3>
                    <div class="city-grid">
                        <div class="city-item" onclick="selectGender(this)" data-gender="male">男</div>
                        <div class="city-item" onclick="selectGender(this)" data-gender="female">女</div>
                    </div>
                </div>
                <!-- 生成结果 -->
                <div id="nameResult" class="subway-result" style="display: none;">
                    <div class="result-loading">
                        <div class="loading-spinner"></div>
                        <span>正在生成...</span>
                    </div>
                    <div class="result-content">
                        <div class="name-list"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 添加早安日报弹窗 -->
    <div id="morningNewsModal" class="modal">
        <div class="modal-content subway-modal">
            <span class="close-button" onclick="closeMorningNewsModal()">&times;</span>
            <div class="modal-title">60秒读懂世界</div>
            <div class="modal-body">
                <div class="morning-news-content"></div>
                <div class="controls">
                    <button onclick="refreshMorningNews()" class="refresh-btn">
                        <i>↻</i>刷新
                    </button>
                    <button onclick="copyMorningNews()" class="copy-btn">
                        <i>✎</i>复制
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- 微博热榜弹窗 -->
    <div id="weiboHotModal" class="modal">
        <div class="modal-content subway-modal">
            <span class="close-button" onclick="closeWeiboHotModal()">&times;</span>
            <div class="modal-title">微博热榜</div>
            <div class="subway-search-content">
                <div id="weiboHotResult" class="subway-result" style="display: none;">
                    <div class="result-loading">
                        <div class="loading-spinner"></div>
                        <span>正在加载...</span>
                    </div>
                    <div class="result-content">
                        <div class="hotlist-container" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 在弹窗区域添加美女壁纸弹窗 -->
    <div id="beautyWallpaperModal" class="modal">
        <div class="modal-content subway-modal">
            <span class="close-button" onclick="closeBeautyWallpaperModal()">&times;</span>
            <div class="modal-title">美女壁纸</div>
            <div class="subway-search-content">
                <div id="beautyWallpaperResult" class="subway-result">
                    <div class="beauty-wallpaper-display">
                        <div id="beautyWallpaperTitle" class="beauty-wallpaper-title"></div>
                        <img id="currentBeautyWallpaper" src="" alt="美女壁纸">
                        <div class="beauty-wallpaper-controls">
                            <button onclick="refreshBeautyWallpaper()" class="refresh-btn">
                                <i>↻</i>换一张
                            </button>
                            <button onclick="downloadBeautyWallpaper()" class="download-btn">
                                <i>↓</i>保存
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 在文件末尾添加智能机器人弹窗 -->
    <div id="chatBotModal" class="modal">
        <div class="modal-content subway-modal">
            <span class="close-button" onclick="closeChatBotModal()">&times;</span>
            <div class="modal-title">智能机器人</div>
            <div class="subway-search-content">
                <!-- 对话显示区域 -->
                <div id="chatContent" class="chat-content" style="max-height: 400px; overflow-y: auto; padding: 20px; background: #f8f9fa; border-radius: 10px; margin-bottom: 20px;">
                    <div class="chat-message bot-message">
                        <div class="message-content">你好！我是智能助手，有什么可以帮你的吗？</div>
                    </div>
                </div>
                <!-- 输入框 -->
                <div class="chat-input-container">
                    <input type="text" id="chatInput" placeholder="请输入你的问题..." style="flex: 1; padding: 12px; border: 1px solid #ddd; border-radius: 8px;">
                    <button onclick="sendChatMessage()" style="margin-left: 10px; padding: 12px 20px; background: #7F7FD5; color: white; border: none; border-radius: 8px; cursor: pointer;">发送</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 在弹窗区域添加电脑壁纸弹窗 -->
    <div id="pcWallpaperModal" class="modal">
        <div class="modal-content subway-modal">
            <span class="close-button" onclick="closePcWallpaperModal()">&times;</span>
            <div class="modal-title">卖家秀</div>
            <div class="subway-search-content">
                <div id="pcWallpaperResult" class="subway-result">
                    <div class="pc-wallpaper-display">
                        <img id="currentPcWallpaper" src="" alt="卖家秀">
                        <div class="pc-wallpaper-controls" style="display: flex; justify-content: center; gap: 15px; margin-top: 20px;">
                            <button onclick="refreshPcWallpaper()" class="refresh-btn">
                                <i>↻</i>换一张
                            </button>
                            <button onclick="downloadPcWallpaper()" class="download-btn">
                                <i>↓</i>保存
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 在弹窗区域添加腿控弹窗 -->
    <div id="legModal" class="modal">
        <div class="modal-content subway-modal">
            <span class="close-button" onclick="closeLegModal()">&times;</span>
            <div class="modal-title">随机腿控图</div>
            <div class="subway-search-content">
                <div id="legResult" class="subway-result">
                    <div class="girl-display">
                        <img id="currentLeg" src="" alt="随机腿控图">
                        <div class="girl-controls">
                            <button onclick="refreshLeg()" class="refresh-btn">
                                <i>↻</i>换一张
                            </button>
                            <button onclick="downloadLeg()" class="download-btn">
                                <i>↓</i>保存
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 在弹窗区域添加黑丝弹窗 -->
    <div id="heisiModal" class="modal">
        <div class="modal-content subway-modal">
            <span class="close-button" onclick="closeHeisiModal()">&times;</span>
            <div class="modal-title">随机黑丝</div>
            <div class="subway-search-content">
                <div id="heisiResult" class="subway-result">
                    <div class="girl-display">
                        <img id="currentHeisi" src="" alt="随机黑丝">
                        <div class="girl-controls">
                            <button onclick="refreshHeisi()" class="refresh-btn">
                                <i>↻</i>换一张
                            </button>
                            <button onclick="downloadHeisi()" class="download-btn">
                                <i>↓</i>保存
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 在弹窗区域添加随机girl弹窗 -->
    <div id="randomGirlModal" class="modal">
        <div class="modal-content subway-modal">
            <span class="close-button" onclick="closeRandomGirlModal()">&times;</span>
            <div class="modal-title">随机girl图</div>
            <div class="subway-search-content">
                <div id="randomGirlResult" class="subway-result">
                    <div class="girl-display">
                        <img id="currentRandomGirl" src="http://api.yujn.cn/api/xjjtp.php?" alt="随机girl图">
                        <div class="girl-controls">
                            <button onclick="refreshRandomGirl()" class="refresh-btn">
                                <i>↻</i>换一张
                            </button>
                            <button onclick="downloadRandomGirl()" class="download-btn">
                                <i>↓</i>保存
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 找到原来的卖家秀弹窗代码，修改为以下内容 -->
    <div id="mjxModal" class="modal">
        <div class="modal-content subway-modal">
            <span class="close-button" onclick="closeMjxModal()">&times;</span>
            <div class="modal-title">卖家秀</div>
            <div class="subway-search-content">
                <div id="mjxResult" class="subway-result">
                    <div class="mjx-display">
                        <img id="currentMjx" src="" alt="卖家秀">
                        <div class="mjx-controls" style="display: flex; justify-content: center; gap: 15px; margin-top: 20px;">
                            <button onclick="refreshMjx()" class="refresh-btn">
                                <i>↻</i>换一张
                            </button>
                            <button onclick="downloadMjx()" class="download-btn">
                                <i>↓</i>保存
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 在弹窗区域添加腹肌图片弹窗 -->
    <div id="fujiModal" class="modal">
        <div class="modal-content subway-modal">
            <span class="close-button" onclick="closeFujiModal()">&times;</span>
            <div class="modal-title">腹肌图片</div>
            <div class="subway-search-content">
                <div id="fujiResult" class="subway-result">
                    <div class="fuji-display">
                        <img id="currentFuji" src="http://api.yujn.cn/api/fujiimg.php?" alt="腹肌图片">
                        <div class="fuji-controls" style="display: flex; justify-content: center; gap: 15px; margin-top: 20px;">
                            <button onclick="refreshFuji()" class="refresh-btn">
                                <i>↻</i>换一张
                            </button>
                            <button onclick="downloadFuji()" class="download-btn">
                                <i>↓</i>保存
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 在弹窗区域添加今日金价弹窗 -->
    <div id="goldPriceModal" class="modal">
        <div class="modal-content subway-modal">
            <span class="close-button" onclick="closeGoldPriceModal()">&times;</span>
            <div class="modal-title">今日金价</div>
            <div class="modal-body">
                <div class="gold-price-content"></div>
                <div class="controls">
                    <button onclick="refreshGoldPrice()" class="refresh-btn">
                        <i>↻</i>刷新
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- 添加爱情公寓弹窗 -->
    <div id="loveApartmentModal" class="modal">
        <div class="modal-content subway-modal">
            <span class="close-button" onclick="closeLoveApartmentModal()">&times;</span>
            <div class="modal-title">爱情公寓</div>
            <div class="modal-body">
                <div class="love-apartment-content"></div>
                <div class="controls">
                    <button onclick="refreshLoveApartment()" class="refresh-btn">
                        <i>↻</i>换一句
                    </button>
                    <button onclick="copyLoveApartment()" class="copy-btn">
                        <i>✎</i>复制
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 获取最近更新数据
        async function loadRecentUpdates() {
            const updatesContainer = document.getElementById('recentUpdates');
            try {
                const response = await fetch('http://localhost:5001/api/v1/dramas');
                const data = await response.json();
                
                if (data.code === 200 && data.data) {
                    const recentUpdates = data.data.slice(0, 10); // 取前10条
                    updatesContainer.innerHTML = recentUpdates.map(item => `
                        <div class="update-item">
                            <div class="update-title">${item.name}</div>
                            <div class="update-time">更新时间：${new Date(item.updateTime).toLocaleDateString()}</div>
                            <a href="${item.viewlink}" class="update-link" target="_blank">查看详情</a>
                        </div>
                    `).join('');
                } else {
                    updatesContainer.innerHTML = '<div>暂无更新</div>';
                }
            } catch (error) {
                console.error('获取最近更新失败:', error);
                updatesContainer.innerHTML = '<div>加载失败，请稍后重试</div>';
            }
        }

        // 页面加载时获取最近更新
        document.addEventListener('DOMContentLoaded', loadRecentUpdates);
    </script>

    <script>
        document.getElementById('searchButton').addEventListener('click', performSearch);
        
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                performSearch();
            }
        });

        // 历史搜索相关函数
        function loadSearchHistory() {
            const history = JSON.parse(localStorage.getItem('searchHistory') || '[]');
            const historyContainer = document.getElementById('historyItems');
            const historySection = document.querySelector('.history-search');
            
            // 如果没有历史记录，隐藏整个历史搜索区域
            if (history.length === 0) {
                historySection.style.display = 'none';
                return;
            }
            
            // 有历史记录时显示区域
            historySection.style.display = 'block';
            historyContainer.innerHTML = '';
            
            history.forEach(keyword => {
                const item = document.createElement('div');
                item.className = 'history-search-item';
                item.innerHTML = `
                    <span onclick="searchHistoryWord(this)">${keyword}</span>
                    <span class="remove" onclick="removeHistoryItem(event, '${keyword}')">&times;</span>
                `;
                historyContainer.appendChild(item);
            });
        }

        function removeHistoryItem(event, keyword) {
            event.stopPropagation();
            let history = JSON.parse(localStorage.getItem('searchHistory') || '[]');
            history = history.filter(item => item !== keyword);
            localStorage.setItem('searchHistory', JSON.stringify(history));
            loadSearchHistory();
            
            // 如果删除后没有历史记录了，隐藏分隔线
            if (history.length === 0) {
                const divider = document.querySelector('.search-divider');
                if (divider) {
                    divider.style.display = 'none';
                }
            }
        }

        function clearSearchHistory() {
            localStorage.removeItem('searchHistory');
            loadSearchHistory();
            // 隐藏分隔线
            const divider = document.querySelector('.search-divider');
            if (divider) {
                divider.style.display = 'none';
            }
        }

        function searchHistoryWord(element) {
            const keyword = element.textContent;
            document.getElementById('searchInput').value = keyword;
            performSearch();
        }

        // 在页面加载时加载历史记录
        document.addEventListener('DOMContentLoaded', loadSearchHistory);

        // 执行搜索
        async function performSearch() {
            const keyword = document.getElementById('searchInput').value.trim();
            const errorDiv = document.getElementById('searchError');
            const loadingDiv = document.querySelector('.loading');
            const resultsContainer = document.querySelector('.search-results');
            
            if (!keyword) {
                showError("请输入搜索关键词");
                return;
            }

            // 显示加载中
            loadingDiv.style.display = 'block';
            errorDiv.style.display = 'none';
            resultsContainer.innerHTML = '<div class="loading-spinner"></div>';

            try {
                const encodedKeyword = encodeURIComponent(keyword);
                const searchUrl = `http://localhost:5001/api/v1/dramas?keyword=${encodedKeyword}`;
                
                const response = await fetch(searchUrl);
                const data = await response.json();

                // 隐藏加载中
                loadingDiv.style.display = 'none';

                // 处理返回的JSON数据
                if (data.code === 200 && data.data && data.data.length > 0) {
                    resultsContainer.innerHTML = '';
                    data.data.forEach(item => {
                        const resultItem = document.createElement('div');
                        resultItem.className = 'search-result-item';
                        resultItem.innerHTML = `
                            <div class="result-title">${item.name}</div>
                            <a href="${item.viewlink}" target="_blank" class="result-link">查看资源</a>
                        `;
                        resultsContainer.appendChild(resultItem);
                    });
                } else {
                    resultsContainer.innerHTML = '<div class="no-results">未找到相关短剧</div>';
                }

                // 显示弹窗
                showSearchModal();

                // 添加到历史记录
                if (keyword) {
                    addToSearchHistory(keyword);
                }

            } catch (error) {
                console.error('搜索错误:', error);
                loadingDiv.style.display = 'none';
                resultsContainer.innerHTML = '<div class="no-results">搜索失败，请稍后重试</div>';
                showError("搜索请求失败，请稍后重试");
            }
        }

        function closeModal() {
            const modal = document.getElementById('searchModal');
            modal.classList.remove('show');
        }

        function showError(message) {
            const errorDiv = document.getElementById('searchError');
            errorDiv.textContent = message;
            errorDiv.style.display = 'block';
            setTimeout(() => {
                errorDiv.style.display = 'none';
            }, 3000);
        }

        // 添加ESC键关闭弹窗
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeModal();
            }
        });

        let currentVideoApi = ''; // 保存当前视频API地址

        function toPlaye(url) {
            const videoModal = document.getElementById('videoModal');
            const videoFrame = document.getElementById('videoFrame');
            
            currentVideoApi = url; // 保存API地址
            videoFrame.src = url;
            
            videoModal.style.display = 'block';
            document.body.style.overflow = 'hidden';

            document.addEventListener('keydown', handleVideoEsc);
            
            videoModal.onclick = function(event) {
                if (event.target === videoModal) {
                    closeVideoModal();
                }
            };
        }

        function closeVideoModal() {
            const videoModal = document.getElementById('videoModal');
            const videoFrame = document.getElementById('videoFrame');
            
            // 停止视频播放
            videoFrame.src = '';
            
            // 隐藏弹窗
            videoModal.style.display = 'none';
            
            // 恢复背景滚动
            document.body.style.overflow = '';

            // 移除ESC键监听
            document.removeEventListener('keydown', handleVideoEsc);
        }

        function handleVideoEsc(event) {
            if (event.key === 'Escape') {
                closeVideoModal();
            }
        }

        // 添加热门搜索词点击处理函数
        function searchHotWord(element) {
            const keyword = element.textContent;
            document.getElementById('searchInput').value = keyword;
            performSearch();
        }

        function refreshVideo() {
            const videoFrame = document.getElementById('videoFrame');
            const refreshBtn = document.querySelector('.refresh-btn');
            const refreshIcon = refreshBtn.querySelector('i');
            
            // 添加旋转动画
            refreshIcon.style.transform = 'rotate(360deg)';
            
            // 重新加载视频
            videoFrame.src = currentVideoApi;
            
            // 重置旋转
            setTimeout(() => {
                refreshIcon.style.transform = 'rotate(0deg)';
            }, 500);
        }

        function showSearchModal() {
            const modal = document.getElementById('searchModal');
            modal.classList.add('show');
        }

        function closeQuickSearchModal() {
            const modal = document.getElementById('quickSearchModal');
            modal.classList.remove('show');
        }

        function performQuickSearch() {
            const singerName = document.getElementById('quickSearchInput').value.trim();
            const resultContainer = document.getElementById('singerResult');
            const loadingDiv = resultContainer.querySelector('.result-loading');
            const contentDiv = resultContainer.querySelector('.result-content');
            const singerInfo = contentDiv.querySelector('.singer-info');

            if (!singerName) {
                alert('请输入歌手名称');
                return;
            }

            // 显示加载状态
            resultContainer.style.display = 'block';
            loadingDiv.style.display = 'flex';
            contentDiv.style.display = 'none';

            // 使用 fetch 发送请求
            fetch(`https://api.yujn.cn/api/geshou.php?msg=${encodeURIComponent(singerName)}`)
                .then(response => response.text())
                .then(data => {
                    // 隐藏加载状态
                    loadingDiv.style.display = 'none';
                    contentDiv.style.display = 'block';

                    // 处理返回的文本数据
                    singerInfo.innerHTML = data.replace(/±img=(.*?)±/g, (match, imgUrl) => {
                        return `<img src="${imgUrl}" style="max-width: 200px; display: block; margin: 10px auto; border-radius: 8px;"><br>`;
                    });
                })
                .catch(error => {
                    console.error('查询失败:', error);
                    loadingDiv.style.display = 'none';
                    contentDiv.style.display = 'block';
                    singerInfo.innerHTML = '<div class="error-message">查询失败，请稍后重试</div>';
                });
        }

        function quickSearchHotWord(element) {
            document.getElementById('quickSearchInput').value = element.textContent;
            performQuickSearch();
        }

        // 添加回车键搜索支持
        document.getElementById('quickSearchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                performQuickSearch();
            }
        });

        // 点击弹窗外部关闭
        document.getElementById('quickSearchModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeQuickSearchModal();
            }
        });

        // 地铁查询相关功能
        const subwayApi = 'http://api.yujn.cn/api/subway.php';

        function showSubwayModal() {
            const modal = document.getElementById('subwayModal');
            modal.classList.add('show');
            setTimeout(() => {
                document.getElementById('subwayInput').focus();
            }, 100);
        }

        function closeSubwayModal() {
            const modal = document.getElementById('subwayModal');
            modal.classList.remove('show');
        }

        async function searchSubway() {
            const cityName = document.getElementById('subwayInput').value.trim();
            if (!cityName) {
                alert('请输入城市拼音');
                return;
            }

            const resultContainer = document.getElementById('subwayResult');
            const loadingDiv = resultContainer.querySelector('.result-loading');
            const contentDiv = resultContainer.querySelector('.result-content');
            const mapDiv = contentDiv.querySelector('.subway-map');
            const infoDiv = contentDiv.querySelector('.subway-info');

            // 显示加载状态
            resultContainer.style.display = 'block';
            loadingDiv.style.display = 'flex';
            contentDiv.style.display = 'none';
            mapDiv.innerHTML = '';
            infoDiv.innerHTML = '';

            try {
                const url = `http://api.yujn.cn/api/subway.php?count=5&msg=${encodeURIComponent(cityName)}`;
                const response = await fetch(url);
                const result = await response.text();

                // 隐藏加载状态
                loadingDiv.style.display = 'none';
                contentDiv.style.display = 'block';

                if (result.includes('请使用拼音')) {
                    infoDiv.innerHTML = '<div class="error-message">请使用城市拼音进行查询，例如：beijing</div>';
                    return;
                }

                // 处理返回数据
                const imgMatch = result.match(/±img=(.*?)±/);
                if (imgMatch && imgMatch[1]) {
                    mapDiv.innerHTML = `<img src="${imgMatch[1]}" alt="${cityName}地铁线路图">`;
                }

                // 格式化显示线路信息
                infoDiv.innerHTML = result.replace(/±img=.*?±/, '')
                    .split('\n')
                    .filter(line => line.trim())
                    .map(line => `<div class="line-item">
                        <div class="line-name">${line.split('：')[0]}</div>
                        <div class="line-stations">${line.split('：')[1] || ''}</div>
                    </div>`)
                    .join('');

            } catch (error) {
                console.error('查询失败:', error);
                loadingDiv.style.display = 'none';
                contentDiv.style.display = 'block';
                infoDiv.innerHTML = '<div class="error-message">查询失败，请稍后重试</div>';
            }
        }

        function searchHotCity(element) {
            const pinyin = element.getAttribute('data-pinyin');
            document.getElementById('subwayInput').value = pinyin;
            searchSubway();
        }

        // 添加回车键搜索
        document.getElementById('subwayInput')?.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchSubway();
            }
        });

        // 点击弹窗外部关闭
        document.getElementById('subwayModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeSubwayModal();
            }
        });

        function showWatermarkModal() {
            const modal = document.getElementById('watermarkModal');
            modal.classList.add('show');
            setTimeout(() => {
                document.getElementById('watermarkInput').focus();
            }, 100);
        }

        function closeWatermarkModal() {
            const modal = document.getElementById('watermarkModal');
            modal.classList.remove('show');
        }

        async function parseVideo() {
            const videoUrl = document.getElementById('watermarkInput').value.trim();
            if (!videoUrl) {
                alert('请输入视频链接');
                return;
            }

            const resultContainer = document.getElementById('parseResult');
            const loadingDiv = resultContainer.querySelector('.result-loading');
            const contentDiv = resultContainer.querySelector('.result-content');
            const infoDiv = contentDiv.querySelector('.parse-info');

            // 显示加载状态
            resultContainer.style.display = 'block';
            loadingDiv.style.display = 'flex';
            contentDiv.style.display = 'none';

            try {
                // 创建一个唯一的回调函数名
                const callbackName = 'parseCallback_' + Date.now();

                // 定义回调函数
                window[callbackName] = function(data) {
                    // 隐藏加载状态
                    loadingDiv.style.display = 'none';
                    contentDiv.style.display = 'block';

                    try {
                        if (data.code === 200) {
                            // 显示解析结果
                            infoDiv.innerHTML = `
                                <div class="video-info">
                                    <div class="video-title">${data.title || '未知标题'}</div>
                                    ${data.cover ? `<img src="${data.cover}" class="video-cover" alt="视频封面">` : ''}
                                    <div class="download-section">
                                        <a href="${data.url}" class="download-btn" target="_blank">下载无水印视频</a>
                                    </div>
                                </div>
                            `;
                        } else {
                            infoDiv.innerHTML = '<div class="error-message">解析失败，请检查链接是否正确</div>';
                        }
                    } catch (error) {
                        console.error('数据处理错误:', error);
                        infoDiv.innerHTML = '<div class="error-message">解析失败，请重试</div>';
                    }

                    // 清理回调函数
                    delete window[callbackName];
                };

                // 创建 script 标签
                const script = document.createElement('script');
                script.src = `https://api.yujn.cn/api/jiexi.php?url=${encodeURIComponent(videoUrl)}&callback=${callbackName}`;
                
                // 错误处理
                script.onerror = function() {
                    loadingDiv.style.display = 'none';
                    contentDiv.style.display = 'block';
                    infoDiv.innerHTML = '<div class="error-message">解析失败，请稍后重试</div>';
                    delete window[callbackName];
                };

                // 添加到页面
                document.body.appendChild(script);

                // 设置超时处理
                setTimeout(() => {
                    if (window[callbackName]) {
                        delete window[callbackName];
                        loadingDiv.style.display = 'none';
                        contentDiv.style.display = 'block';
                        infoDiv.innerHTML = '<div class="error-message">解析超时，请重试</div>';
                    }
                }, 10000);

            } catch (error) {
                console.error('解析失败:', error);
                loadingDiv.style.display = 'none';
                contentDiv.style.display = 'block';
                infoDiv.innerHTML = '<div class="error-message">解析失败，请稍后重试</div>';
            }
        }

        // 添加回车键支持
        document.getElementById('watermarkInput')?.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                parseVideo();
            }
        });

        // 点击弹窗外部关闭
        document.getElementById('watermarkModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeWatermarkModal();
            }
        });

        function showEmojiModal() {
            const modal = document.getElementById('sexyModal');
            modal.classList.add('show');
            loadSexyText();
        }

        function closeSexyModal() {
            const modal = document.getElementById('sexyModal');
            modal.classList.remove('show');
        }

        async function loadSexyText() {
            const sexyContent = document.querySelector('.sexy-content');
            sexyContent.innerHTML = '<div class="loading-spinner"></div>';
            
            try {
                const response = await fetch('https://api.vvhan.com/api/text/sexy');
                const text = await response.text();
                sexyContent.textContent = text;
            } catch (error) {
                console.error('加载失败:', error);
                sexyContent.innerHTML = '<div class="error-message">加载失败，请稍后重试</div>';
            }
        }

        // 点击弹窗外部关闭
        document.getElementById('sexyModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeSexyModal();
            }
        });

        function showDogModal() {
            const modal = document.getElementById('dogModal');
            modal.classList.add('show');
            loadDogDiary();
        }

        function closeDogModal() {
            const modal = document.getElementById('dogModal');
            modal.classList.remove('show');
        }

        async function loadDogDiary() {
            const dogContent = document.querySelector('.dog-content');
            dogContent.innerHTML = '<div class="loading-spinner"></div>';
            
            try {
                const response = await fetch('https://v.api.aa1.cn/api/tiangou/index.php');
                const text = await response.text();
                // 去除前后多余的<p>标签
                const cleanedText = text.replace(/<p>/g, '').replace(/<\/p>/g, '');
                dogContent.textContent = cleanedText;
            } catch (error) {
                console.error('加载失败:', error);
                dogContent.innerHTML = '<div class="error-message">加载失败，请稍后重试</div>';
            }
        }

        function refreshDogDiary() {
            const refreshBtn = document.querySelector('#dogModal .refresh-btn i');
            refreshBtn.style.transform = 'rotate(360deg)';
            loadDogDiary();
            setTimeout(() => {
                refreshBtn.style.transform = 'rotate(0deg)';
            }, 500);
        }
        
        function copyDogDiary() {
            const text = document.querySelector('.dog-content').textContent;
            navigator.clipboard.writeText(text).then(() => {
                alert('复制成功！');
            }).catch(() => {
                alert('复制失败，请手动复制');
            });
        }

        // 点击弹窗外部关闭
        document.getElementById('dogModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeDogModal();
            }
        });

        function showTrainModal() {
            const modal = document.getElementById('trainModal');
            modal.classList.add('show');
            setTimeout(() => {
                document.getElementById('fromCity').focus();
            }, 100);
        }

        function closeTrainModal() {
            const modal = document.getElementById('trainModal');
            modal.classList.remove('show');
        }

        async function sendChatMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            const chatContent = document.getElementById('chatContent');

            if (!message) {
                alert('请输入消息');
                return;
            }

            // 添加用户消息
            const userMessage = document.createElement('div');
            userMessage.className = 'chat-message user-message';
            userMessage.innerHTML = `
                <div class="message-content">${message}</div>
            `;
            chatContent.appendChild(userMessage);

            // 清空输入框
            input.value = '';

            // 滚动到底部
            chatContent.scrollTop = chatContent.scrollHeight;

            try {
                // 通过代理服务器调用API
                const response = await fetch(`http://localhost:3000/ff?msg=${encodeURIComponent(message)}`);
                const data = await response.text();

                // 添加机器人回复
                const botMessage = document.createElement('div');
                botMessage.className = 'chat-message bot-message';
                botMessage.innerHTML = `
                    <div class="message-content">${data}</div>
                `;
                chatContent.appendChild(botMessage);

                // 滚动到底部
                chatContent.scrollTop = chatContent.scrollHeight;

            } catch (error) {
                console.error('请求失败:', error);
                const errorMessage = document.createElement('div');
                errorMessage.className = 'chat-message bot-message';
                errorMessage.innerHTML = `
                    <div class="message-content">抱歉，暂时无法处理你的请求，请稍后再试。</div>
                `;
                chatContent.appendChild(errorMessage);
                chatContent.scrollTop = chatContent.scrollHeight;
            }
        }

        function searchHotRoute(element) {
            const fromCity = element.getAttribute('data-from');
            const toCity = element.getAttribute('data-to');
            document.getElementById('fromCity').value = fromCity;
            document.getElementById('toCity').value = toCity;
            searchTrain();
        }

        // 点击弹窗外部关闭
        document.getElementById('trainModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeTrainModal();
            }
        });

        let currentMoyuType = '摸鱼日报';

        function showMoyuModal() {
            const modal = document.getElementById('moyuModal');
            modal.style.display = 'flex'; // 修改为flex布局
            modal.style.justifyContent = 'center';
            modal.style.alignItems = 'center';
            loadMoyu();
        }

        function closeMoyuModal() {
            const modal = document.getElementById('moyuModal');
            modal.style.display = 'none';
        }

        function loadMoyu() {
            const moyuContent = document.querySelector('.moyu-content');
            moyuContent.innerHTML = '<div class="loading-spinner"></div>';
            
            fetch('https://api.52vmy.cn/api/wl/moyu')
                .then(response => response.blob())
                .then(blob => {
                    const url = URL.createObjectURL(blob);
                    moyuContent.innerHTML = `<img src="${url}" style="max-width: 100%; height: auto;">`;
                })
                .catch(error => {
                    moyuContent.innerHTML = '加载失败，请重试';
                    console.error('Error:', error);
                });
        }

        function refreshMoyu() {
            const refreshBtn = document.querySelector('.refresh-btn');
            refreshBtn.style.transform = 'rotate(360deg)';
            loadMoyu();
            setTimeout(() => {
                refreshBtn.style.transform = 'rotate(0deg)';
            }, 500);
        }

        function copyMoyu() {
            const img = document.querySelector('.moyu-content img');
            if (img) {
                // 由于是图片，我们只能复制图片的URL
                navigator.clipboard.writeText(img.src)
                    .then(() => alert('图片链接已复制到剪贴板！'))
                    .catch(() => alert('复制失败，请手动复制'));
            }
        }

        // 点击模态框外部关闭
        window.onclick = function(event) {
            const modal = document.getElementById('moyuModal');
            if (event.target == modal) {
                closeMoyuModal();
            }
        }

        function showBoxOfficeModal() {
            const modal = document.getElementById('loveModal');
            modal.classList.add('show');
            loadLove();
        }

        function closeLoveModal() {
            const modal = document.getElementById('loveModal');
            modal.classList.remove('show');
        }

        async function loadLove() {
            const loveContent = document.querySelector('#loveModal .sexy-content');
            loveContent.innerHTML = '<div class="loading-spinner"></div>';
            
            try {
                const response = await fetch('https://v.api.aa1.cn/api/api-wenan-aiqing/index.php?type=json');
                const data = await response.json();
                // 只提取并展示 text 字段
                loveContent.textContent = data.text;
            } catch (error) {
                console.error('加载失败:', error);
                loveContent.innerHTML = '<div class="error-message">加载失败，请稍后重试</div>';
            }
        }

        function refreshLove() {
            const refreshBtn = document.querySelector('#loveModal .refresh-btn i');
            refreshBtn.style.transform = 'rotate(360deg)';
            loadLove();
            setTimeout(() => {
                refreshBtn.style.transform = 'rotate(0deg)';
            }, 500);
        }
        
        function copyLove() {
            const text = document.querySelector('.love-content').textContent;
            navigator.clipboard.writeText(text).then(() => {
                alert('复制成功！');
            }).catch(() => {
                alert('复制失败，请手动复制');
            });
        }

        // 点击弹窗外部关闭
        document.getElementById('loveModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeLoveModal();
            }
        });

        function showAvatarModal() {
            const modal = document.getElementById('avatarModal');
            const avatarImg = document.getElementById('currentAvatar');
            modal.classList.add('show');
            // 显示新的头像
            avatarImg.src = `https://api.yujn.cn/api/yscos.php?t=${Date.now()}`;
            // 根据图片大小调整弹窗
            adjustModalSize(avatarImg, modal);
        }
        
        function closeAvatarModal() {
            const modal = document.getElementById('avatarModal');
            modal.classList.remove('show');
        }
        
        function refreshAvatar() {
            const avatarImg = document.getElementById('currentAvatar');
            const refreshBtn = document.querySelector('.refresh-btn i');
            
            // 添加旋转动画
            refreshBtn.style.transform = 'rotate(360deg)';
            
            // 更新图片
            avatarImg.src = `https://api.yujn.cn/api/yscos.php?t=${Date.now()}`;
            
            // 重置旋转
            setTimeout(() => {
                refreshBtn.style.transform = 'rotate(0deg)';
            }, 500);
        }
        
        async function downloadAvatar() {
            const avatarImg = document.getElementById('currentAvatar');
            try {
                const response = await fetch(avatarImg.src);
                const blob = await response.blob();
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `yscos_${Date.now()}.jpg`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                window.URL.revokeObjectURL(url);
            } catch (error) {
                console.error('下载失败:', error);
                alert('下载失败，请重试');
            }
        }
        
        // 点击弹窗外部关闭
        document.getElementById('avatarModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeAvatarModal();
            }
        });

        function refreshSexyText() {
            const refreshBtn = document.querySelector('#sexyModal .refresh-btn i');
            
            // 添加旋转动画
            refreshBtn.style.transform = 'rotate(360deg)';
            
            // 重新加载内容
            loadSexyText();
            
            // 重置旋转
            setTimeout(() => {
                refreshBtn.style.transform = 'rotate(0deg)';
            }, 500);
        }
        
        function copySexyText() {
            const text = document.querySelector('.sexy-content').textContent;
            navigator.clipboard.writeText(text).then(() => {
                alert('复制成功！');
            }).catch(() => {
                alert('复制失败，请手动复制');
            });
        }

        function showIanModal() {
            const modal = document.getElementById('ianModal');
            modal.classList.add('show');
            loadIan();
        }

        function closeIanModal() {
            const modal = document.getElementById('ianModal');
            modal.classList.remove('show');
        }

        async function loadIan() {
            const ianContent = document.querySelector('#ianModal .sexy-content');
            ianContent.innerHTML = '<div class="loading-spinner"></div>';
            
            try {
                const response = await fetch('https://api.kuleu.com/api/yiyan');
                const text = await response.text();
                ianContent.textContent = text;
            } catch (error) {
                console.error('加载失败:', error);
                ianContent.innerHTML = '<div class="error-message">加载失败，请稍后重试</div>';
            }
        }

        function refreshIan() {
            const refreshBtn = document.querySelector('#ianModal .refresh-btn i');
            refreshBtn.style.transform = 'rotate(360deg)';
            loadIan();
            setTimeout(() => {
                refreshBtn.style.transform = 'rotate(0deg)';
            }, 500);
        }
        
        function copyIan() {
            const text = document.querySelector('.ian-content').textContent;
            navigator.clipboard.writeText(text).then(() => {
                alert('复制成功！');
            }).catch(() => {
                alert('复制失败，请手动复制');
            });
        }

        // 点击弹窗外部关闭
        document.getElementById('ianModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeIanModal();
            }
        });

        function showLandscapeModal() {
            const modal = document.getElementById('landscapeModal');
            const landscapeImg = document.getElementById('currentLandscape');
            modal.classList.add('show');
            // 显示新的白丝图片
            landscapeImg.src = `https://api.yujn.cn/api/baisi.php?t=${Date.now()}`;
            // 根据图片大小调整弹窗
            adjustModalSize(landscapeImg, modal);
        }
        
        function closeLandscapeModal() {
            const modal = document.getElementById('landscapeModal');
            modal.classList.remove('show');
        }
        
        function refreshLandscape() {
            const landscapeImg = document.getElementById('currentLandscape');
            const refreshBtn = document.querySelector('#landscapeModal .refresh-btn i');
            
            // 添加旋转动画
            refreshBtn.style.transform = 'rotate(360deg)';
            
            // 更新图片
            landscapeImg.src = `https://api.yujn.cn/api/baisi.php?t=${Date.now()}`;
            
            // 0.5秒后重置旋转
            setTimeout(() => {
                refreshBtn.style.transform = 'rotate(0deg)';
            }, 500);
        }

        async function downloadLandscape() {
            const landscapeImg = document.getElementById('currentLandscape');
            try {
                const response = await fetch(landscapeImg.src);
                const blob = await response.blob();
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `baisi_${Date.now()}.jpg`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                window.URL.revokeObjectURL(url);
            } catch (error) {
                console.error('下载失败:', error);
                alert('下载失败，请重试');
            }
        }
        
        // 点击弹窗外部关闭
        document.getElementById('landscapeModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeLandscapeModal();
            }
        });

        function showAnimeModal() {
            const modal = document.getElementById('animeModal');
            const animeImg = document.getElementById('currentAnime');
            modal.classList.add('show');
            // 显示新的养眼图
            animeImg.src = `https://api.yujn.cn/api/yangyan.php?t=${Date.now()}`;
            // 根据图片大小调整弹窗
            adjustModalSize(animeImg, modal);
        }
        
        function closeAnimeModal() {
            const modal = document.getElementById('animeModal');
            modal.classList.remove('show');
        }
        
        function refreshAnime() {
            const animeImg = document.getElementById('currentAnime');
            const refreshBtn = document.querySelector('#animeModal .refresh-btn i');
            
            // 添加旋转动画
            refreshBtn.style.transform = 'rotate(360deg)';
            
            // 更新图片
            animeImg.src = `https://api.yujn.cn/api/yangyan.php?t=${Date.now()}`;
            
            // 0.5秒后重置旋转
            setTimeout(() => {
                refreshBtn.style.transform = 'rotate(0deg)';
            }, 500);
        }
        
        async function downloadAnime() {
            const animeImg = document.getElementById('currentAnime');
            try {
                const response = await fetch(animeImg.src);
                const blob = await response.blob();
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `yangyan_${Date.now()}.jpg`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                window.URL.revokeObjectURL(url);
            } catch (error) {
                console.error('下载失败:', error);
                alert('下载失败，请重试');
            }
        }
        
        // 点击弹窗外部关闭
        document.getElementById('animeModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeAnimeModal();
            }
        });

        function showEnglishModal() {
            const modal = document.getElementById('englishModal');
            modal.classList.add('show');
            loadEnglish();
        }
        
        function closeEnglishModal() {
            const modal = document.getElementById('englishModal');
            modal.classList.remove('show');
        }
        
        async function loadEnglish() {
            const englishContent = document.querySelector('#englishModal .love-content');
            englishContent.innerHTML = '<div class="loading-spinner"></div>';
            
            try {
                const response = await fetch('https://api.vvhan.com/api/dailyEnglish?type=sj');
                const data = await response.json();
                
                if (data.success) {
                    englishContent.innerHTML = `
                        <div class="english-text">${data.data.en}</div>
                        <div class="chinese-text">${data.data.zh}</div>
                    `;
                } else {
                    throw new Error('加载失败');
                }
            } catch (error) {
                console.error('加载失败:', error);
                englishContent.innerHTML = '<div class="error-message">加载失败，请稍后重试</div>';
            }
        }
        
        function refreshEnglish() {
            const refreshBtn = document.querySelector('#englishModal .refresh-btn i');
            
            // 添加旋转动画
            refreshBtn.style.transform = 'rotate(360deg)';
            
            // 重新加载内容
            loadEnglish();
            
            // 重置旋转
            setTimeout(() => {
                refreshBtn.style.transform = 'rotate(0deg)';
            }, 500);
        }
        
        function copyEnglish() {
            const englishText = document.querySelector('.english-text').textContent;
            const chineseText = document.querySelector('.chinese-text').textContent;
            const textToCopy = `${englishText}\n${chineseText}`;
            
            navigator.clipboard.writeText(textToCopy).then(() => {
                alert('复制成功！');
            }).catch(() => {
                alert('复制失败，请手动复制');
            });
        }
        
        // 点击弹窗外部关闭
        document.getElementById('englishModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeEnglishModal();
            }
        });

        function showGirlModal() {
            const modal = document.getElementById('girlModal');
            const girlImg = document.getElementById('currentGirl');
            modal.classList.add('show');
            // 显示新的JK图片
            girlImg.src = `https://api.yujn.cn/api/jk.php?t=${Date.now()}`;
            // 根据图片大小调整弹窗
            adjustModalSize(girlImg, modal);
        }
        
        function closeGirlModal() {
            const modal = document.getElementById('girlModal');
            modal.classList.remove('show');
        }
        
        function refreshGirl() {
            const girlImg = document.getElementById('currentGirl');
            const refreshBtn = document.querySelector('#girlModal .refresh-btn i');
            
            // 添加旋转动画
            refreshBtn.style.transform = 'rotate(360deg)';
            
            // 更新图片
            girlImg.src = `https://api.yujn.cn/api/jk.php?t=${Date.now()}`;
            
            // 0.5秒后重置旋转
            setTimeout(() => {
                refreshBtn.style.transform = 'rotate(0deg)';
            }, 500);
        }
        
        async function downloadGirl() {
            const girlImg = document.getElementById('currentGirl');
            try {
                const response = await fetch(girlImg.src);
                const blob = await response.blob();
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `jk_${Date.now()}.jpg`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                window.URL.revokeObjectURL(url);
            } catch (error) {
                console.error('下载失败:', error);
                alert('下载失败，请重试');
            }
        }
        
        // 点击弹窗外部关闭
        document.getElementById('girlModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeGirlModal();
            }
        });

        function showHoroscopeModal() {
            const modal = document.getElementById('horoscopeModal');
            modal.classList.add('show');
            // 重置结果区域
            const resultContainer = document.getElementById('horoscopeResult');
            resultContainer.classList.remove('has-content');
            resultContainer.style.display = 'none';
        }

        function closeHoroscopeModal() {
            const modal = document.getElementById('horoscopeModal');
            modal.classList.remove('show');
        }

        let currentSign = null; // 当前选择的星座
        let currentTime = null; // 当前选择的时间范围

        function selectHoroscope(element) {
            // 移除所有星座的选中状态
            document.querySelectorAll('.city-item').forEach(item => item.classList.remove('selected'));
            // 为当前星座添加选中状态
            element.classList.add('selected');
            currentSign = element.getAttribute('data-sign');
        }

        function selectTime(element) {
            // 移除所有时间按钮的选中状态
            document.querySelectorAll('.time-button').forEach(btn => btn.classList.remove('active'));
            // 为当前时间按钮添加选中状态
            element.classList.add('active');
            currentTime = element.getAttribute('data-time');
        }

        function queryHoroscope() {
            if (!currentSign) {
                alert('请先选择星座');
                return;
            }
            if (!currentTime) {
                alert('请先选择时间范围');
                return;
            }
            getHoroscope(currentSign, currentTime);
        }

        async function getHoroscope(sign, time) {
            const resultContainer = document.getElementById('horoscopeResult');
            const loadingDiv = resultContainer.querySelector('.result-loading');
            const contentDiv = resultContainer.querySelector('.result-content');
            const infoDiv = contentDiv.querySelector('.horoscope-info');

            // 显示加载状态
            resultContainer.style.display = 'block';
            loadingDiv.style.display = 'flex';
            contentDiv.style.display = 'none';

            try {
                const response = await fetch(`https://api.vvhan.com/api/horoscope?type=${sign}&time=${time}`);
                const data = await response.json();

                // 隐藏加载状态
                loadingDiv.style.display = 'none';
                contentDiv.style.display = 'block';

                if (data.success) {
                    // 添加内容后展开结果区域
                    resultContainer.classList.add('has-content');
                    const horoscope = data.data;
                    const cardContent = [];

                    // 添加标题和时间
                    cardContent.push(`
                        <div class="card-header">
                            <span>${horoscope.title}</span>
                            <span>${horoscope.time}</span>
                        </div>
                    `);

                    // 添加基本信息
                    const basicInfo = [
                        { label: '幸运色', value: horoscope.luckycolor },
                        { label: '幸运数字', value: horoscope.luckynumber },
                        { label: '速配星座', value: horoscope.luckyconstellation }
                    ].filter(item => item.value);

                    if (basicInfo.length > 0) {
                        cardContent.push(`
                            <div class="basic-info">
                                ${basicInfo.map(item => `
                                    <div class="info-item">
                                        <span class="info-label">${item.label}：</span>
                                        <span class="info-value">${item.value}</span>
                                    </div>
                                `).join('')}
                            </div>
                        `);
                    }

                    // 添加指数信息
                    const indexInfo = [
                        { label: '综合指数', value: horoscope.index?.all },
                        { label: '爱情指数', value: horoscope.index?.love },
                        { label: '工作指数', value: horoscope.index?.work },
                        { label: '财运指数', value: horoscope.index?.money },
                        { label: '健康指数', value: horoscope.index?.health }
                    ].filter(item => item.value);

                    if (indexInfo.length > 0) {
                        cardContent.push(`
                            <div class="index-info">
                                <h4>运势指数</h4>
                                <div class="index-grid">
                                    ${indexInfo.map(item => `
                                        <div class="index-item">
                                            <span class="index-label">${item.label}</span>
                                            <span class="index-value">${item.value}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        `);
                    }

                    // 添加宜忌信息
                    if (horoscope.todo?.yi || horoscope.todo?.ji) {
                        cardContent.push(`
                            <div class="todo-info">
                                <h4>今日宜忌</h4>
                                <div class="todo-grid">
                                    ${horoscope.todo.yi ? `
                                        <div class="todo-item yi">
                                            <span>宜：</span>${horoscope.todo.yi}
                                        </div>
                                    ` : ''}
                                    ${horoscope.todo.ji ? `
                                        <div class="todo-item ji">
                                            <span>忌：</span>${horoscope.todo.ji}
                                        </div>
                                    ` : ''}
                                </div>
                            </div>
                        `);
                    }

                    // 添加运势详情
                    const fortuneInfo = [
                        { label: '综合运势', value: horoscope.fortunetext?.all },
                        { label: '爱情运势', value: horoscope.fortunetext?.love },
                        { label: '工作运势', value: horoscope.fortunetext?.work },
                        { label: '财运运势', value: horoscope.fortunetext?.money },
                        { label: '健康运势', value: horoscope.fortunetext?.health }
                    ].filter(item => item.value);

                    if (fortuneInfo.length > 0) {
                        cardContent.push(`
                            <div class="fortune-info">
                                <h4>运势详情</h4>
                                ${fortuneInfo.map(item => `
                                    <div class="fortune-item">
                                        <span class="fortune-label">${item.label}：</span>
                                        <span class="fortune-value">${item.value}</span>
                                    </div>
                                `).join('')}
                            </div>
                        `);
                    }

                    // 添加短评
                    if (horoscope.shortcomment) {
                        cardContent.push(`
                            <div class="short-comment">
                                <h4>短评</h4>
                                <p>${horoscope.shortcomment}</p>
                            </div>
                        `);
                    }

                    infoDiv.innerHTML = `
                        <div class="card">
                            ${cardContent.join('')}
                        </div>
                    `;
                } else {
                    infoDiv.innerHTML = '<div class="error-message">查询失败，请稍后重试</div>';
                }
            } catch (error) {
                console.error('查询失败:', error);
                loadingDiv.style.display = 'none';
                contentDiv.style.display = 'block';
                infoDiv.innerHTML = '<div class="error-message">查询失败，请稍后重试</div>';
            }
        }

        // 点击弹窗外部关闭
        document.getElementById('horoscopeModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeHoroscopeModal();
            }
        });

        function showProductModal() {
            const modal = document.getElementById('productModal');
            modal.classList.add('show');
            getProductHotlist();
        }

        function closeProductModal() {
            const modal = document.getElementById('productModal');
            modal.classList.remove('show');
        }

        async function getProductHotlist() {
            const resultContainer = document.getElementById('productResult');
            const loadingDiv = resultContainer.querySelector('.result-loading');
            const contentDiv = resultContainer.querySelector('.result-content');
            const hotlistDiv = contentDiv.querySelector('.hotlist-container');

            // 显示加载状态
            resultContainer.style.display = 'block';
            loadingDiv.style.display = 'flex';
            contentDiv.style.display = 'none';

            try {
                const response = await fetch('https://api.vvhan.com/api/hotlist/woShiPm');
                const data = await response.json();

                // 隐藏加载状态
                loadingDiv.style.display = 'none';
                contentDiv.style.display = 'block';

                if (data.success) {
                    hotlistDiv.innerHTML = `
                        <div class="hotlist">
                            ${data.data.map(item => `
                                <div class="hotlist-item">
                                    <div class="hotlist-rank">${item.index}</div>
                                    <div class="hotlist-content">
                                        <a href="${item.url}" target="_blank" class="hotlist-title">${item.title}</a>
                                        <div class="hotlist-hot">${item.hot}</div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    `;
                } else {
                    hotlistDiv.innerHTML = '<div class="error-message">加载失败，请稍后重试</div>';
                }
            } catch (error) {
                console.error('加载失败:', error);
                loadingDiv.style.display = 'none';
                contentDiv.style.display = 'block';
                hotlistDiv.innerHTML = '<div class="error-message">加载失败，请稍后重试</div>';
            }
        }

        // 点击弹窗外部关闭
        document.getElementById('productModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeProductModal();
            }
        });

        // 修改调整弹窗大小的函数
        function adjustModalSize(imgElement, modal) {
            imgElement.onload = function() {
                // 固定图片尺寸
                const fixedWidth = 600;
                const fixedHeight = 400;
                
                // 设置图片尺寸
                imgElement.style.width = `${fixedWidth}px`;
                imgElement.style.height = `${fixedHeight}px`;
                
                // 调整弹窗内容区域大小
                const content = modal.querySelector('.subway-search-content');
                content.style.width = `${fixedWidth + 40}px`; // 加上padding
                content.style.height = 'auto';
            };
        }

        async function getKfcText() {
            const kfcContent = document.querySelector('#kfcModal .kfc-content');
            kfcContent.innerHTML = '<div class="loading-spinner"></div>';
            
            try {
                const response = await fetch('https://api.pearktrue.cn/api/kfc');
                const data = await response.json();
                
                if (data.code === 200) {
                    kfcContent.textContent = data.text;
                } else {
                    throw new Error('获取失败');
                }
            } catch (error) {
                console.error('获取失败:', error);
                kfcContent.innerHTML = '<div class="error-message">获取失败，请稍后重试</div>';
            }
        }

        // 在弹窗区域添加疯狂星期四弹窗
        function showKfcModal() {
            const modal = document.getElementById('kfcModal');
            modal.style.display = 'flex';
            modal.style.justifyContent = 'center';
            modal.style.alignItems = 'center';
            getKfcText();
        }

        function closeKfcModal() {
            const modal = document.getElementById('kfcModal');
            modal.style.display = 'none';
        }

        function refreshKfc() {
            const refreshBtn = document.querySelector('#kfcModal .refresh-btn i');
            refreshBtn.style.transform = 'rotate(360deg)';
            getKfcText();
            setTimeout(() => {
                refreshBtn.style.transform = 'rotate(0deg)';
            }, 500);
        }

        function copyKfc() {
            const text = document.querySelector('#kfcModal .kfc-content').textContent;
            navigator.clipboard.writeText(text).then(() => {
                alert('复制成功！');
            }).catch(() => {
                alert('复制失败，请手动复制');
            });
        }

        // 点击弹窗外部关闭
        document.getElementById('kfcModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeKfcModal();
            }
        });

        // 添加姓氏取名相关函数
        let currentGender = 'male'; // 默认性别

        function showNameModal() {
            const modal = document.getElementById('nameModal');
            modal.classList.add('show');
            // 重置输入框和结果
            document.getElementById('surnameInput').value = '';
            document.getElementById('nameResult').style.display = 'none';
            // 默认选中男性
            selectGender(document.querySelector('[data-gender="male"]'));
        }

        function closeNameModal() {
            const modal = document.getElementById('nameModal');
            modal.classList.remove('show');
        }

        function selectGender(element) {
            // 移除所有性别按钮的选中状态
            document.querySelectorAll('.city-item[data-gender]').forEach(item => item.classList.remove('selected'));
            // 为当前性别按钮添加选中状态
            element.classList.add('selected');
            currentGender = element.getAttribute('data-gender');
        }

        async function generateNames() {
            const surname = document.getElementById('surnameInput').value.trim();
            if (!surname) {
                alert('请输入姓氏');
                return;
            }

            const resultContainer = document.getElementById('nameResult');
            const loadingDiv = resultContainer.querySelector('.result-loading');
            const contentDiv = resultContainer.querySelector('.result-content');
            const nameListDiv = contentDiv.querySelector('.name-list');

            // 显示加载状态
            resultContainer.style.display = 'block';
            loadingDiv.style.display = 'flex';
            contentDiv.style.display = 'none';

            try {
                const response = await fetch(`https://api.pearktrue.cn/api/name/generate?xing=${encodeURIComponent(surname)}&sex=${currentGender}&count=10`);
                const data = await response.json();

                // 隐藏加载状态
                loadingDiv.style.display = 'none';
                contentDiv.style.display = 'block';

                if (data.code === 200) {
                    nameListDiv.innerHTML = `
                        <div class="name-grid">
                            ${data.data.map(name => `
                                <div class="name-item">${name}</div>
                            `).join('')}
                        </div>
                    `;
                } else {
                    throw new Error(data.msg || '生成失败');
                }
            } catch (error) {
                console.error('生成失败:', error);
                loadingDiv.style.display = 'none';
                contentDiv.style.display = 'block';
                nameListDiv.innerHTML = '<div class="error-message">生成失败，请稍后重试</div>';
            }
        }

        // 点击弹窗外部关闭
        document.getElementById('nameModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeNameModal();
            }
        });

        // 在 performSearch 函数之前添加以下代码
        function addToSearchHistory(keyword) {
            let history = JSON.parse(localStorage.getItem('searchHistory') || '[]');
            
            // 如果关键词已经存在，先移除
            history = history.filter(item => item !== keyword);
            
            // 添加新关键词到最前面
            history.unshift(keyword);
            
            // 最多保留10条历史记录
            if (history.length > 10) {
                history = history.slice(0, 10);
            }
            
            localStorage.setItem('searchHistory', JSON.stringify(history));
            loadSearchHistory();
        }

        // 修改 loadSearchHistory 函数
        function loadSearchHistory() {
            const history = JSON.parse(localStorage.getItem('searchHistory') || '[]');
            const historyContainer = document.getElementById('historyItems');
            const historySection = document.querySelector('.history-search');
            
            // 如果没有历史记录，隐藏整个历史搜索区域
            if (history.length === 0) {
                historySection.style.display = 'none';
                return;
            }
            
            // 有历史记录时显示区域
            historySection.style.display = 'block';
            historyContainer.innerHTML = '';
            
            history.forEach(keyword => {
                const item = document.createElement('div');
                item.className = 'history-search-item';
                item.innerHTML = `
                    <span onclick="searchHistoryWord(this)">${keyword}</span>
                    <span class="remove" onclick="removeHistoryItem(event, '${keyword}')">&times;</span>
                `;
                historyContainer.appendChild(item);
            });
        }

        function showMorningNewsModal() {
            const modal = document.getElementById('morningNewsModal');
            modal.classList.add('show');
            
            // 添加点击外部关闭功能
            modal.onclick = function(event) {
                if (event.target === modal) {
                    closeMorningNewsModal();
                }
            };
            
            getMorningNews();
        }

        function closeMorningNewsModal() {
            const modal = document.getElementById('morningNewsModal');
            modal.classList.remove('show');
            
            // 移除点击外部关闭功能
            modal.onclick = null;
        }

        async function getMorningNews() {
            const newsContent = document.querySelector('.morning-news-content');
            newsContent.innerHTML = '<div class="loading-spinner"></div>正在获取最新资讯...';
            
            try {
                const response = await fetch('https://qqlykm.cn/api/60s/index?key=UufaSJ88Au4TfeMp9bpH5Vep96&=');
                
                // 检查响应状态
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const data = await response.json();
                
                // 调试输出
                console.log('API Response:', data);

                // 更灵活地处理响应数据
                if (data && data.data) {
                    // 确保 news 是字符串
                    const newsText = typeof data.data.news === 'string' ? data.data.news : 
                                    Array.isArray(data.data.news) ? data.data.news.join('\n') : 
                                    '暂无内容';
                    
                    newsContent.innerHTML = `
                        <div>${data.data.date || '未知日期'}</div>
                        ${data.data.img ? `<img src="${data.data.img}" alt="早安日报">` : ''}
                        <div>${newsText.replace(/\n/g, '<br>')}</div>
                    `;
                } else {
                    throw new Error('返回数据格式不正确');
                }
            } catch (error) {
                console.error('获取失败:', error);
                newsContent.innerHTML = `
                    <div class="error-message">
                        获取失败，请稍后重试
                        <div style="font-size: 12px; color: #999; margin-top: 5px;">${error.message}</div>
                    </div>
                `;
            }
        }

        function refreshMorningNews() {
            const refreshBtn = document.querySelector('#morningNewsModal .refresh-btn i');
            refreshBtn.style.transform = 'rotate(360deg)';
            getMorningNews();
            setTimeout(() => {
                refreshBtn.style.transform = 'rotate(0deg)';
            }, 500);
        }

        function copyMorningNews() {
            const text = document.querySelector('.morning-news-content').textContent;
            navigator.clipboard.writeText(text).then(() => {
                alert('复制成功！');
            }).catch(() => {
                alert('复制失败，请手动复制');
            });
        }

        // 微博热榜相关函数
        function showWeiboHotModal() {
            const modal = document.getElementById('weiboHotModal');
            modal.classList.add('show');
            getWeiboHot();
        }

        function closeWeiboHotModal() {
            const modal = document.getElementById('weiboHotModal');
            modal.classList.remove('show');
        }

        async function getWeiboHot() {
            const resultContainer = document.getElementById('weiboHotResult');
            const loadingDiv = resultContainer.querySelector('.result-loading');
            const contentDiv = resultContainer.querySelector('.result-content');
            const hotlistDiv = contentDiv.querySelector('.hotlist-container');

            // 显示加载状态
            resultContainer.style.display = 'block';
            loadingDiv.style.display = 'flex';
            contentDiv.style.display = 'none';

            try {
                const response = await fetch('https://api.vvhan.com/api/hotlist/wbHot');
                const data = await response.json();

                // 隐藏加载状态
                loadingDiv.style.display = 'none';
                contentDiv.style.display = 'block';

                if (data.success) {
                    hotlistDiv.innerHTML = `
                        ${data.data.map(item => `
                            <div class="hotlist-item" style="background: #fff; padding: 15px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: all 0.3s;">
                                <div class="hotlist-rank" style="font-size: 18px; font-weight: bold; color: #ff6b81;">${item.index}</div>
                                <div class="hotlist-content">
                                    <a href="${item.url}" target="_blank" class="hotlist-title" style="font-size: 16px; color: #333; text-decoration: none; display: block; margin: 10px 0;">${item.title}</a>
                                    <div class="hotlist-hot" style="font-size: 14px; color: #666;">热度：${item.hot}</div>
                                </div>
                            </div>
                        `).join('')}
                    `;
                } else {
                    hotlistDiv.innerHTML = '<div class="error-message">加载失败，请稍后重试</div>';
                }
            } catch (error) {
                console.error('加载失败:', error);
                loadingDiv.style.display = 'none';
                contentDiv.style.display = 'block';
                hotlistDiv.innerHTML = '<div class="error-message">加载失败，请稍后重试</div>';
            }
        }

        function showBeautyWallpaperModal() {
            const modal = document.getElementById('beautyWallpaperModal');
            const beautyWallpaperImg = document.getElementById('currentBeautyWallpaper');
            modal.classList.add('show');
            // 显示加载状态
            beautyWallpaperImg.src = '';
            beautyWallpaperImg.alt = '加载中...';
            // 获取新的美女壁纸
            loadBeautyWallpaper();
            // 根据图片大小调整弹窗
            adjustModalSize(beautyWallpaperImg, modal);
        }

        function closeBeautyWallpaperModal() {
            const modal = document.getElementById('beautyWallpaperModal');
            modal.classList.remove('show');
        }

        async function loadBeautyWallpaper() {
            const beautyWallpaperImg = document.getElementById('currentBeautyWallpaper');
            const beautyWallpaperTitle = document.getElementById('beautyWallpaperTitle');
            
            try {
                const response = await fetch('https://api.apiopen.top/api/getImages?type=beauty');
                const data = await response.json();
                
                if (data.code === 200 && data.result.list.length > 0) {
                    const randomImage = data.result.list[Math.floor(Math.random() * data.result.list.length)];
                    beautyWallpaperImg.src = randomImage.url;
                    beautyWallpaperImg.alt = randomImage.title;
                    beautyWallpaperTitle.textContent = randomImage.title;
                } else {
                    throw new Error('获取壁纸失败');
                }
            } catch (error) {
                console.error('获取壁纸失败:', error);
                beautyWallpaperImg.src = '';
                beautyWallpaperImg.alt = '获取壁纸失败';
                beautyWallpaperTitle.textContent = '获取壁纸失败，请稍后重试';
            }
        }

        function refreshBeautyWallpaper() {
            const refreshBtn = document.querySelector('#beautyWallpaperModal .refresh-btn i');
            
            // 添加旋转动画
            refreshBtn.style.transform = 'rotate(360deg)';
            
            // 更新图片
            loadBeautyWallpaper();
            
            // 0.5秒后重置旋转
            setTimeout(() => {
                refreshBtn.style.transform = 'rotate(0deg)';
            }, 500);
        }

        async function downloadBeautyWallpaper() {
            const beautyWallpaperImg = document.getElementById('currentBeautyWallpaper');
            try {
                const response = await fetch(beautyWallpaperImg.src);
                const blob = await response.blob();
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `beauty_wallpaper_${Date.now()}.jpg`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                window.URL.revokeObjectURL(url);
            } catch (error) {
                console.error('下载失败:', error);
                alert('下载失败，请重试');
            }
        }

        // 点击弹窗外部关闭
        document.getElementById('beautyWallpaperModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeBeautyWallpaperModal();
            }
        });

        // 显示智能机器人弹窗
        function showChatBotModal() {
            const modal = document.getElementById('chatBotModal');
            modal.classList.add('show');
            // 自动聚焦输入框
            setTimeout(() => {
                document.getElementById('chatInput').focus();
            }, 100);
        }

        // 关闭智能机器人弹窗
        function closeChatBotModal() {
            const modal = document.getElementById('chatBotModal');
            modal.classList.remove('show');
        }

        // 发送消息
        async function sendChatMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            const chatContent = document.getElementById('chatContent');

            if (!message) {
                alert('请输入消息');
                return;
            }

            // 添加用户消息
            const userMessage = document.createElement('div');
            userMessage.className = 'chat-message user-message';
            userMessage.innerHTML = `
                <div class="message-content">${message}</div>
            `;
            chatContent.appendChild(userMessage);

            // 清空输入框
            input.value = '';

            // 滚动到底部
            chatContent.scrollTop = chatContent.scrollHeight;

            try {
                // 通过代理服务器调用API
                const response = await fetch(`http://localhost:3000/ff?msg=${encodeURIComponent(message)}`);
                const data = await response.text();

                // 添加机器人回复
                const botMessage = document.createElement('div');
                botMessage.className = 'chat-message bot-message';
                botMessage.innerHTML = `
                    <div class="message-content">${data}</div>
                `;
                chatContent.appendChild(botMessage);

                // 滚动到底部
                chatContent.scrollTop = chatContent.scrollHeight;

            } catch (error) {
                console.error('请求失败:', error);
                const errorMessage = document.createElement('div');
                errorMessage.className = 'chat-message bot-message';
                errorMessage.innerHTML = `
                    <div class="message-content">抱歉，暂时无法处理你的请求，请稍后再试。</div>
                `;
                chatContent.appendChild(errorMessage);
                chatContent.scrollTop = chatContent.scrollHeight;
            }
        }

        // 添加回车键发送消息
        document.getElementById('chatInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendChatMessage();
            }
        });

        // 点击弹窗外部关闭
        document.getElementById('chatBotModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeChatBotModal();
            }
        });

        function showPcWallpaperModal() {
            const modal = document.getElementById('pcWallpaperModal');
            const pcWallpaperImg = document.getElementById('currentPcWallpaper');
            modal.classList.add('show');
            // 显示新的电脑壁纸
            pcWallpaperImg.src = `https://api.vvhan.com/api/wallpaper/pcGirl?t=${Date.now()}`;
            // 根据图片大小调整弹窗
            adjustModalSize(pcWallpaperImg, modal);
        }
        
        function closePcWallpaperModal() {
            const modal = document.getElementById('pcWallpaperModal');
            modal.classList.remove('show');
        }
        
        function refreshPcWallpaper() {
            const pcWallpaperImg = document.getElementById('currentPcWallpaper');
            const refreshBtn = document.querySelector('#pcWallpaperModal .refresh-btn i');
            
            // 添加旋转动画
            refreshBtn.style.transform = 'rotate(360deg)';
            
            // 更新图片
            pcWallpaperImg.src = `https://api.vvhan.com/api/wallpaper/pcGirl?t=${Date.now()}`;
            
            // 0.5秒后重置旋转
            setTimeout(() => {
                refreshBtn.style.transform = 'rotate(0deg)';
            }, 500);
        }
        
        async function downloadPcWallpaper() {
            const pcWallpaperImg = document.getElementById('currentPcWallpaper');
            try {
                const response = await fetch(pcWallpaperImg.src);
                const blob = await response.blob();
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `pc_wallpaper_${Date.now()}.jpg`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                window.URL.revokeObjectURL(url);
            } catch (error) {
                console.error('下载失败:', error);
                alert('下载失败，请重试');
            }
        }
        
        // 点击弹窗外部关闭
        document.getElementById('pcWallpaperModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closePcWallpaperModal();
            }
        });

        function getRandomImage() {
            // 将接口地址改为快手随机接口
            fetch('http://api.yujn.cn/api/ksxjj.php')
                .then(response => response.blob())
                .then(blob => {
                    const imageUrl = URL.createObjectURL(blob);
                    document.getElementById('randomImage').src = imageUrl;
                })
                .catch(error => console.error('Error:', error));
        }

        // 在 script 中添加腿控相关函数
        function showLegModal() {
            const modal = document.getElementById('legModal');
            const legImg = document.getElementById('currentLeg');
            modal.classList.add('show');
            // 显示新的腿控图片
            legImg.src = `http://api.yujn.cn/api/tui.php?${Date.now()}`;
            // 根据图片大小调整弹窗
            adjustModalSize(legImg, modal);
        }

        function closeLegModal() {
            const modal = document.getElementById('legModal');
            modal.classList.remove('show');
        }

        function refreshLeg() {
            const legImg = document.getElementById('currentLeg');
            const refreshBtn = document.querySelector('#legModal .refresh-btn i');
            
            // 添加旋转动画
            refreshBtn.style.transform = 'rotate(360deg)';
            
            // 更新图片
            legImg.src = `http://api.yujn.cn/api/tui.php?${Date.now()}`;
            
            // 0.5秒后重置旋转
            setTimeout(() => {
                refreshBtn.style.transform = 'rotate(0deg)';
            }, 500);
        }

        async function downloadLeg() {
            const legImg = document.getElementById('currentLeg');
            try {
                const response = await fetch(legImg.src);
                const blob = await response.blob();
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `leg_${Date.now()}.jpg`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                window.URL.revokeObjectURL(url);
            } catch (error) {
                console.error('下载失败:', error);
                alert('下载失败，请重试');
            }
        }

        // 点击弹窗外部关闭
        document.getElementById('legModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeLegModal();
            }
        });

        // 黑丝相关功能
        function showHeisiModal() {
            const modal = document.getElementById('heisiModal');
            const heisiImg = document.getElementById('currentHeisi');
            modal.classList.add('show');
            heisiImg.src = `http://api.yujn.cn/api/heisi.php?${Date.now()}`;
            adjustModalSize(heisiImg, modal);
        }

        function closeHeisiModal() {
            const modal = document.getElementById('heisiModal');
            modal.classList.remove('show');
        }

        function refreshHeisi() {
            const heisiImg = document.getElementById('currentHeisi');
            const refreshBtn = document.querySelector('#heisiModal .refresh-btn i');
            refreshBtn.style.transform = 'rotate(360deg)';
            heisiImg.src = `http://api.yujn.cn/api/heisi.php?${Date.now()}`;
            setTimeout(() => {
                refreshBtn.style.transform = 'rotate(0deg)';
            }, 500);
        }

        async function downloadHeisi() {
            const heisiImg = document.getElementById('currentHeisi');
            try {
                const response = await fetch(heisiImg.src);
                const blob = await response.blob();
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `heisi_${Date.now()}.jpg`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                window.URL.revokeObjectURL(url);
            } catch (error) {
                console.error('下载失败:', error);
                alert('下载失败，请重试');
            }
        }

        document.getElementById('heisiModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeHeisiModal();
            }
        });

        // 随机girl相关功能
        function showRandomGirlModal() {
            const modal = document.getElementById('randomGirlModal');
            const randomGirlImg = document.getElementById('currentRandomGirl');
            modal.classList.add('show');
            randomGirlImg.src = `http://api.yujn.cn/api/xjjtp.php?${Date.now()}`;
            adjustModalSize(randomGirlImg, modal);
        }

        function closeRandomGirlModal() {
            const modal = document.getElementById('randomGirlModal');
            modal.classList.remove('show');
        }

        function refreshRandomGirl() {
            const randomGirlImg = document.getElementById('currentRandomGirl');
            const refreshBtn = document.querySelector('#randomGirlModal .refresh-btn i');
            refreshBtn.style.transform = 'rotate(360deg)';
            randomGirlImg.src = `http://api.yujn.cn/api/xjjtp.php?${Date.now()}`;
            setTimeout(() => {
                refreshBtn.style.transform = 'rotate(0deg)';
            }, 500);
        }

        async function downloadRandomGirl() {
            const randomGirlImg = document.getElementById('currentRandomGirl');
            try {
                const response = await fetch(randomGirlImg.src);
                const blob = await response.blob();
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `random_girl_${Date.now()}.jpg`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                window.URL.revokeObjectURL(url);
            } catch (error) {
                console.error('下载失败:', error);
                alert('下载失败，请重试');
            }
        }

        document.getElementById('randomGirlModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeRandomGirlModal();
            }
        });

        // 快手美女相关功能
        function showKsGirlModal() {
            const modal = document.getElementById('ksGirlModal');
            const ksGirlImg = document.getElementById('currentKsGirl');
            modal.classList.add('show');
            ksGirlImg.src = `https://api.yujn.cn/api/ksxjj.php?${Date.now()}`;
            adjustModalSize(ksGirlImg, modal);
        }

        function closeMjxModal() {
            const modal = document.getElementById('mjxModal');
            modal.classList.remove('show');
        }

        function refreshMjx() {
            const refreshBtn = document.querySelector('#mjxModal .refresh-btn i');
            refreshBtn.style.transform = 'rotate(360deg)';
            getMjx();
            setTimeout(() => {
                refreshBtn.style.transform = 'rotate(0deg)';
            }, 500);
        }

        async function getMjx() {
            const mjxContent = document.querySelector('#mjxModal .mjx-content');
            mjxContent.innerHTML = '<div class="loading-spinner"></div>';
            
            try {
                const response = await fetch('https://api.vvhan.com/api/moyu');
                const data = await response.json();
                
                if (data.code === 200) {
                    mjxContent.innerHTML = `
                        <div class="mjx-display">
                            <img src="${data.data.url}" alt="卖家秀">
                            <div class="mjx-controls">
                                <button onclick="refreshMjx()" class="refresh-btn">
                                    <i>↻</i>换一张
                                </button>
                                <button onclick="downloadMjx()" class="download-btn">
                                    <i>↓</i>保存
                                </button>
                            </div>
                        </div>
                    `;
                } else {
                    throw new Error('获取失败');
                }
            } catch (error) {
                console.error('获取失败:', error);
                mjxContent.innerHTML = '<div class="error-message">获取失败，请稍后重试</div>';
            }
        }

        document.getElementById('mjxModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeMjxModal();
            }
        });

        // 腹肌图片相关功能
        function showFujiModal() {
            const modal = document.getElementById('fujiModal');
            const fujiImg = document.getElementById('currentFuji');
            modal.classList.add('show');
            // 显示新的腹肌图片
            fujiImg.src = `http://api.yujn.cn/api/fujiimg.php?${Date.now()}`;
            // 根据图片大小调整弹窗
            adjustModalSize(fujiImg, modal);
        }

        function closeFujiModal() {
            const modal = document.getElementById('fujiModal');
            modal.classList.remove('show');
        }

        function refreshFuji() {
            const fujiImg = document.getElementById('currentFuji');
            const refreshBtn = document.querySelector('#fujiModal .refresh-btn i');
            
            // 添加旋转动画
            refreshBtn.style.transform = 'rotate(360deg)';
            
            // 更新图片
            fujiImg.src = `http://api.yujn.cn/api/fujiimg.php?${Date.now()}`;
            
            // 0.5秒后重置旋转
            setTimeout(() => {
                refreshBtn.style.transform = 'rotate(0deg)';
            }, 500);
        }

        async function downloadFuji() {
            const fujiImg = document.getElementById('currentFuji');
            try {
                const response = await fetch(fujiImg.src);
                const blob = await response.blob();
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `fuji_${Date.now()}.jpg`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                window.URL.revokeObjectURL(url);
            } catch (error) {
                console.error('下载失败:', error);
                alert('下载失败，请重试');
            }
        }

        // 点击弹窗外部关闭
        document.getElementById('fujiModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeFujiModal();
            }
        });

        // 显示今日金价弹窗
        function showGoldPriceModal() {
            const modal = document.getElementById('goldPriceModal');
            modal.classList.add('show');
            getGoldPrice();
        }

        // 关闭今日金价弹窗
        function closeGoldPriceModal() {
            const modal = document.getElementById('goldPriceModal');
            modal.classList.remove('show');
        }

        // 获取今日金价
        async function getGoldPrice() {
            const goldPriceContent = document.querySelector('.gold-price-content');
            goldPriceContent.innerHTML = '<div class="loading-spinner"></div>正在获取金价...';
            
            try {
                const response = await fetch('https://tools.mgtv100.com/external/v1/pear/goldPrice');
                const data = await response.json();
                
                if (data.status === 'success') {
                    const goldPrices = data.data.map(item => `
                        <div class="gold-price-item">
                            <div class="gold-price-title">${item.title}</div>
                            <div class="gold-price-value">${item.price} 元/克</div>
                            <div class="gold-price-change">涨跌幅: ${item.changepercent}%</div>
                        </div>
                    `).join('');
                    
                    goldPriceContent.innerHTML = goldPrices;
                } else {
                    throw new Error('获取金价失败');
                }
            } catch (error) {
                console.error('获取金价失败:', error);
                goldPriceContent.innerHTML = '<div class="error-message">获取金价失败，请稍后重试</div>';
            }
        }

        // 刷新金价
        function refreshGoldPrice() {
            const refreshBtn = document.querySelector('#goldPriceModal .refresh-btn i');
            refreshBtn.style.transform = 'rotate(360deg)';
            getGoldPrice();
            setTimeout(() => {
                refreshBtn.style.transform = 'rotate(0deg)';
            }, 500);
        }

        // 添加点击空白区域关闭弹窗的功能
        document.getElementById('goldPriceModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeGoldPriceModal();
            }
        });

        async function refreshEnglish() {
            const englishText = document.querySelector('.english-text');
            englishText.textContent = '加载中...';
            
            try {
                const response = await fetch('https://api.kuleu.com/api/aiqinggongyu');
                const data = await response.json();
                if (data.code === 200) {
                    englishText.textContent = data.data;
                } else {
                    englishText.textContent = '获取失败，请重试';
                }
            } catch (error) {
                console.error('获取爱情公寓语录失败:', error);
                englishText.textContent = '获取失败，请重试';
            }
        }

        // 在弹窗区域添加爱情公寓弹窗
        function showLoveApartmentModal() {
            const modal = document.getElementById('loveApartmentModal');
            modal.style.display = 'flex';
            modal.style.justifyContent = 'center';
            modal.style.alignItems = 'center';
            getLoveApartment();
        }

        function closeLoveApartmentModal() {
            const modal = document.getElementById('loveApartmentModal');
            modal.style.display = 'none';
        }

        async function getLoveApartment() {
            const loveApartmentContent = document.querySelector('#loveApartmentModal .love-apartment-content');
            loveApartmentContent.innerHTML = '<div class="loading-spinner"></div>';
            
            try {
                const response = await fetch('https://api.kuleu.com/api/aiqinggongyu');
                const data = await response.json();
                loveApartmentContent.textContent = data.data;
            } catch (error) {
                console.error('获取爱情公寓语录失败:', error);
                loveApartmentContent.innerHTML = '<div class="error-message">获取语录失败，请稍后重试</div>';
            }
        }

        function refreshLoveApartment() {
            const refreshBtn = document.querySelector('#loveApartmentModal .refresh-btn i');
            refreshBtn.style.transform = 'rotate(360deg)';
            getLoveApartment();
            setTimeout(() => {
                refreshBtn.style.transform = 'rotate(0deg)';
            }, 500);
        }

        function copyLoveApartment() {
            const text = document.querySelector('#loveApartmentModal .love-apartment-content').textContent;
            navigator.clipboard.writeText(text).then(() => {
                alert('复制成功！');
            }).catch(() => {
                alert('复制失败，请手动复制');
            });
        }

        // 点击弹窗外部关闭
        document.getElementById('loveApartmentModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeLoveApartmentModal();
            }
        });

        // 修改励志英语接口
        async function loadEnglish() {
            const englishContent = document.querySelector('.english-text');
            const chineseContent = document.querySelector('.chinese-text');
            englishContent.innerHTML = '<div class="loading-spinner"></div>';
            chineseContent.innerHTML = '';
            
            try {
                const response = await fetch('https://api.kuleu.com/api/aiqinggongyu');
                const data = await response.json();
                englishContent.textContent = data.data;
                chineseContent.textContent = ''; // 由于接口返回的是中文，清空中文部分
            } catch (error) {
                console.error('加载失败:', error);
                englishContent.innerHTML = '<div class="error-message">加载失败，请稍后重试</div>';
            }
        }

        // 为所有弹窗添加点击空白区域关闭功能
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('show');
                }
            });
        });
    </script>
</body>
</html>


